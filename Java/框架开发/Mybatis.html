<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html"><meta property="og:site_name" content="å°è”¡coding"><meta property="og:title" content="Mybatisæ¡†æ¶"><meta property="og:description" content="ä¸€ã€MyBatisç®€ä»‹ æ”¾ä¸€ä¸ªå®˜æ–¹çš„è§£é‡Š MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒæ”¯æŒè‡ªå®šä¹‰ SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis å…é™¤äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç ä»¥åŠè®¾ç½®å‚æ•°å’Œè·å–ç»“æœé›†çš„å·¥ä½œã€‚MyBatis å¯ä»¥é€šè¿‡ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸå§‹ç±»å‹ã€æ¥å£å’Œ Java POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šè€..."><meta property="og:type" content="article"><meta property="og:locale" content="en-US"><title>Mybatisæ¡†æ¶ | å°è”¡coding</title><meta name="description" content="ä¸€ã€MyBatisç®€ä»‹ æ”¾ä¸€ä¸ªå®˜æ–¹çš„è§£é‡Š MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒæ”¯æŒè‡ªå®šä¹‰ SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis å…é™¤äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç ä»¥åŠè®¾ç½®å‚æ•°å’Œè·å–ç»“æœé›†çš„å·¥ä½œã€‚MyBatis å¯ä»¥é€šè¿‡ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸå§‹ç±»å‹ã€æ¥å£å’Œ Java POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šè€...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-b0136e4c.css" as="style"><link rel="stylesheet" href="/assets/style-b0136e4c.css">
    <link rel="modulepreload" href="/assets/app-18c23253.js"><link rel="modulepreload" href="/assets/framework-f12b30cc.js"><link rel="modulepreload" href="/assets/Mybatis.html-66664a3e.js"><link rel="modulepreload" href="/assets/Mybatis.html-af1c1118.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.png" alt="å°è”¡coding"><!----><span class="site-name hide-in-pad">å°è”¡coding</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="ä¸»é¡µ"><span class="font-icon icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/front/Vue/" class="nav-link" aria-label="å‰ç«¯"><span class="font-icon icon iconfont icon-javascript" style=""></span>å‰ç«¯<!----></a></div><div class="nav-item hide-in-mobile"><a href="/Java/" class="nav-link active" aria-label="åç«¯"><span class="font-icon icon iconfont icon-java" style=""></span>åç«¯<!----></a></div><div class="nav-item hide-in-mobile"><a href="/devops/" class="nav-link" aria-label="è¿ç»´"><span class="font-icon icon iconfont icon-centos" style=""></span>è¿ç»´<!----></a></div><div class="nav-item hide-in-mobile"><a href="/mysql/" class="nav-link" aria-label="Mysql"><span class="font-icon icon iconfont icon-more" style=""></span>Mysql<!----></a></div><div class="nav-item hide-in-mobile"><a href="/redis/" class="nav-link" aria-label="Redis"><span class="font-icon icon iconfont icon-launch" style=""></span>Redis<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="é¡¹ç›®å®æˆ˜"><span class="title"><span class="font-icon icon iconfont icon-hot" style=""></span>é¡¹ç›®å®æˆ˜</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/study-project/school/" class="nav-link" aria-label="è°·ç²’å­¦é™¢"><!---->è°·ç²’å­¦é™¢<!----></a></li><li class="dropdown-item"><a href="/study-project/mall/" class="nav-link" aria-label="è°·ç²’å•†åŸ"><!---->è°·ç²’å•†åŸ<!----></a></li><li class="dropdown-item"><a href="/study-project/evaluate/" class="nav-link" aria-label="é»‘é©¬ç‚¹è¯„"><!---->é»‘é©¬ç‚¹è¯„<!----></a></li><li class="dropdown-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#" class="router-link-active router-link-exact-active nav-link" aria-label="æ¢èŠ±äº¤å‹"><!---->æ¢èŠ±äº¤å‹<!----></a></li><li class="dropdown-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#" class="router-link-active router-link-exact-active nav-link" aria-label="é»‘é©¬å¤´æ¡"><!---->é»‘é©¬å¤´æ¡<!----></a></li><li class="dropdown-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#" class="router-link-active router-link-exact-active nav-link" aria-label="å“è¾¾ç‰©æµTMS"><!---->å“è¾¾ç‰©æµTMS<!----></a></li><li class="dropdown-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#" class="router-link-active router-link-exact-active nav-link" aria-label="æ™ºç‰›è‚¡"><!---->æ™ºç‰›è‚¡<!----></a></li><li class="dropdown-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#" class="router-link-active router-link-exact-active nav-link" aria-label="äº¿å¯æ§"><!---->äº¿å¯æ§<!----></a></li><li class="dropdown-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#" class="router-link-active router-link-exact-active nav-link" aria-label="å¼€æºé¡¹ç›®"><!---->å¼€æºé¡¹ç›®<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å­¦ä¹ ä¸­é‡åˆ°çš„é—®é¢˜"><span class="title"><span class="font-icon icon iconfont icon-linux" style=""></span>å­¦ä¹ ä¸­é‡åˆ°çš„é—®é¢˜</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/mac/idea.html" class="nav-link" aria-label="MACä½¿ç”¨IDEAå°æŠ€å·§"><!---->MACä½¿ç”¨IDEAå°æŠ€å·§<!----></a></li><li class="dropdown-item"><a href="/mac/linux.html" class="nav-link" aria-label="Linuxä½¿ç”¨å°æŠ€å·§"><!---->Linuxä½¿ç”¨å°æŠ€å·§<!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Spring.html" class="nav-link sidebar-link sidebar-page" aria-label="Springæ¡†æ¶"><!---->Springæ¡†æ¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/SpringMVC.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringMVCæ¡†æ¶"><!---->SpringMVCæ¡†æ¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Mybatisæ¡†æ¶"><!---->Mybatisæ¡†æ¶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#ä¸€ã€mybatisç®€ä»‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸€ã€MyBatisç®€ä»‹"><!---->ä¸€ã€MyBatisç®€ä»‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#äºŒã€-å…¥é—¨æ¡ˆä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="äºŒã€ å…¥é—¨æ¡ˆä¾‹"><!---->äºŒã€ å…¥é—¨æ¡ˆä¾‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_2-1-å®‰è£…mybatis" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1 å®‰è£…Mybatis"><!---->2.1 å®‰è£…Mybatis<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_2-2-é€šè¿‡xmlæ„å»ºsqlsessionfactory" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.2 é€šè¿‡xmlæ„å»ºSqlSessionFactory"><!---->2.2 é€šè¿‡xmlæ„å»ºSqlSessionFactory<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_2-3-ä»-sqlsessionfactory-ä¸­è·å–-sqlsession" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.3 ä» SqlSessionFactory ä¸­è·å– SqlSession"><!---->2.3 ä» SqlSessionFactory ä¸­è·å– SqlSession<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_2-4-æ¢ç©¶å·²æ˜ å°„çš„-sql-è¯­å¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.4 æ¢ç©¶å·²æ˜ å°„çš„ SQL è¯­å¥"><!---->2.4 æ¢ç©¶å·²æ˜ å°„çš„ SQL è¯­å¥<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_2-5-è¡¥å……" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.5 è¡¥å……"><!---->2.5 è¡¥å……<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_2-6-æ³¨è§£å¼€å‘" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.6 æ³¨è§£å¼€å‘"><!---->2.6 æ³¨è§£å¼€å‘<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#ä¸‰ã€mybatis-å…¨å±€é…ç½®æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸‰ã€MyBatis-å…¨å±€é…ç½®æ–‡ä»¶"><!---->ä¸‰ã€MyBatis-å…¨å±€é…ç½®æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-1-å±æ€§-properties" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1 å±æ€§ï¼ˆpropertiesï¼‰"><!---->3.1 å±æ€§ï¼ˆpropertiesï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-2-è®¾ç½®-settings" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.2 è®¾ç½®ï¼ˆsettingsï¼‰"><!---->3.2 è®¾ç½®ï¼ˆsettingsï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-3-ç±»å‹åˆ«å-typealiases" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3 ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰"><!---->3.3 ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-4-ç±»å‹å¤„ç†å™¨-typehandlers" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.4 ç±»å‹å¤„ç†å™¨ï¼ˆtypeHandlersï¼‰"><!---->3.4 ç±»å‹å¤„ç†å™¨ï¼ˆtypeHandlersï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-5-pluginsæ’ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.5 pluginsæ’ä»¶"><!---->3.5 pluginsæ’ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-6-environmentsç¯å¢ƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.6 environmentsç¯å¢ƒ"><!---->3.6 environmentsç¯å¢ƒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-7-datasource" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.7 dataSource"><!---->3.7 dataSource<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-8-mapperæ˜ å°„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.8 mapperæ˜ å°„"><!---->3.8 mapperæ˜ å°„<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#å››ã€mybatis-æ˜ å°„æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å››ã€MyBatis-æ˜ å°„æ–‡ä»¶"><!---->å››ã€MyBatis-æ˜ å°„æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-1-å‚æ•°-parameters-ä¼ é€’" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.1 å‚æ•°ï¼ˆParametersï¼‰ä¼ é€’"><!---->4.1 å‚æ•°ï¼ˆParametersï¼‰ä¼ é€’<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-2-å‚æ•°å¤„ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.2 å‚æ•°å¤„ç†"><!---->4.2 å‚æ•°å¤„ç†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-3-å¢åˆ æ”¹æŸ¥å…ƒç´ " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.3 å¢åˆ æ”¹æŸ¥å…ƒç´ "><!---->4.3 å¢åˆ æ”¹æŸ¥å…ƒç´ <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-4-sql" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.4 SQL"><!---->4.4 SQL<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-5-è‡ªåŠ¨æ˜ å°„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.5 è‡ªåŠ¨æ˜ å°„"><!---->4.5 è‡ªåŠ¨æ˜ å°„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-6-resultmap" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.6 resultMap"><!---->4.6 resultMap<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-7-é‰´åˆ«å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4.7 é‰´åˆ«å™¨"><!---->4.7 é‰´åˆ«å™¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#äº”ã€mybatis-åŠ¨æ€sql" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="äº”ã€MyBatis-åŠ¨æ€SQL"><!---->äº”ã€MyBatis-åŠ¨æ€SQL<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-1-if" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.1 if"><!---->5.1 if<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-2-chooseã€whenã€otherwise" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.2 chooseã€whenã€otherwise"><!---->5.2 chooseã€whenã€otherwise<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-3-trimã€whereã€set" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.3 trimã€whereã€set"><!---->5.3 trimã€whereã€set<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-4-foreach" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.4 foreach"><!---->5.4 foreach<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-5-bind" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.5 bind"><!---->5.5 bind<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-6-å®ä¾‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.6 å®ä¾‹"><!---->5.6 å®ä¾‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-7-mybatisçš„å‚æ•°å°è£…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="5.7 mybatisçš„å‚æ•°å°è£…"><!---->5.7 mybatisçš„å‚æ•°å°è£…<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#å…­ã€mybatis-ç¼“å­˜æœºåˆ¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…­ã€MyBatis-ç¼“å­˜æœºåˆ¶"><!---->å…­ã€MyBatis-ç¼“å­˜æœºåˆ¶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_6-1-ä¸€çº§ç¼“å­˜-æœ¬åœ°ç¼“å­˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.1 ä¸€çº§ç¼“å­˜(æœ¬åœ°ç¼“å­˜)"><!---->6.1 ä¸€çº§ç¼“å­˜(æœ¬åœ°ç¼“å­˜)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_6-2-äºŒçº§ç¼“å­˜-å…¨å±€ç¼“å­˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="6.2 äºŒçº§ç¼“å­˜(å…¨å±€ç¼“å­˜)"><!---->6.2 äºŒçº§ç¼“å­˜(å…¨å±€ç¼“å­˜)<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#ä¸ƒã€mybatis-é€†å‘å·¥ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸ƒã€MyBatis-é€†å‘å·¥ç¨‹"><!---->ä¸ƒã€MyBatis-é€†å‘å·¥ç¨‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_7-1-mbgçš„ä½¿ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="7.1 MBGçš„ä½¿ç”¨"><!---->7.1 MBGçš„ä½¿ç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#å…«ã€å­¦ä¹ mybatisé‡åˆ°çš„é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…«ã€å­¦ä¹ Mybatisé‡åˆ°çš„é—®é¢˜"><!---->å…«ã€å­¦ä¹ Mybatisé‡åˆ°çš„é—®é¢˜<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#è§£å†³mybatis-æŠ¥é”™invalid-bound-statement-not-found" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è§£å†³Mybatis æŠ¥é”™Invalid bound statement (not found)"><!---->è§£å†³Mybatis æŠ¥é”™Invalid bound statement (not found)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#mybatis-æŠ¥é”™there-is-no-getter-for-property-named-lastname-in-class-com-caq-mybatis-bean-employee" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Mybatis æŠ¥é”™There is no getter for property named &#39;lastname&#39; in &#39;class com.caq.mybatis.bean.Employee&#39;"><!---->Mybatis æŠ¥é”™There is no getter for property named &#39;lastname&#39; in &#39;class com.caq.mybatis.bean.Employee&#39;<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#mybatisé…ç½®æ–‡ä»¶å¼€å¯é©¼å³°å‘½åæ˜ å°„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MyBatisé…ç½®æ–‡ä»¶å¼€å¯é©¼å³°å‘½åæ˜ å°„"><!---->MyBatisé…ç½®æ–‡ä»¶å¼€å¯é©¼å³°å‘½åæ˜ å°„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#æ€ä¹ˆè§£å†³é…ç½®æ–‡ä»¶ä¸­å‡ºç°çš„the-content-of-element-type-configuration-must-match-é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ€ä¹ˆè§£å†³é…ç½®æ–‡ä»¶ä¸­å‡ºç°çš„The content of element type &quot;configuration&quot; must match...é—®é¢˜"><!---->æ€ä¹ˆè§£å†³é…ç½®æ–‡ä»¶ä¸­å‡ºç°çš„The content of element type &quot;configuration&quot; must match...é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#ideaè¿æ¥mysqlæ•°æ®åº“ä¹‹å-ç¼–å†™mapper-xmlæ—¶ä¸ä¼šè‡ªåŠ¨æç¤ºè¡¨ä¿¡æ¯é—®é¢˜ã€‚" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="IDEAè¿æ¥Mysqlæ•°æ®åº“ä¹‹åï¼Œç¼–å†™Mapper.xmlæ—¶ä¸ä¼šè‡ªåŠ¨æç¤ºè¡¨ä¿¡æ¯é—®é¢˜ã€‚"><!---->IDEAè¿æ¥Mysqlæ•°æ®åº“ä¹‹åï¼Œç¼–å†™Mapper.xmlæ—¶ä¸ä¼šè‡ªåŠ¨æç¤ºè¡¨ä¿¡æ¯é—®é¢˜ã€‚<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/MybatisPlus.html" class="nav-link sidebar-link sidebar-page" aria-label="MybatisPlusæ¡†æ¶"><!---->MybatisPlusæ¡†æ¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/SpringBoot.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringBootæ¡†æ¶"><!---->SpringBootæ¡†æ¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Maven.html" class="nav-link sidebar-link sidebar-page" aria-label="Maven"><!---->Maven<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Git.html" class="nav-link sidebar-link sidebar-page" aria-label="Git"><!---->Git<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/1.Dubbo.html" class="nav-link sidebar-link sidebar-page" aria-label="Dubbo"><!---->Dubbo<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/RabbitMQ.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQ"><!---->RabbitMQ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Nginx.html" class="nav-link sidebar-link sidebar-page" aria-label="Nginx"><!---->Nginx<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/1.SpringCloud%E5%88%9D%E7%BA%A7.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringCloudåˆçº§"><!---->SpringCloudåˆçº§<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/2.SpringCloud%E4%B8%AD%E7%BA%A7.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringCloudä¸­çº§"><!---->SpringCloudä¸­çº§<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/3.SpringCloud%E9%AB%98%E7%BA%A7.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringCloudé«˜çº§"><!---->SpringCloudé«˜çº§<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/Docker.html" class="nav-link sidebar-link sidebar-page" aria-label="Docker"><!---->Docker<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%BC%80%E5%8F%91/ElasticSeach.html" class="nav-link sidebar-link sidebar-page" aria-label="Elasticsearch"><!---->Elasticsearch<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html" class="nav-link sidebar-link sidebar-page" aria-label="è®¾è®¡æ¨¡å¼"><!---->è®¾è®¡æ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Java/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Spring%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90.html" class="nav-link sidebar-link sidebar-page" aria-label="Springæºç "><!---->Springæºç <!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Mybatisæ¡†æ¶</h1><div class="page-info"><span class="author-info" aria-label="AuthorğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://xiaocaicoding.cn" target="_blank" rel="noopener noreferrer">xiaocai</a></span><span property="author" content="xiaocai"></span></span><!----><!----><!----><!----><span class="reading-time-info" aria-label="Reading TimeâŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 38 min</span><meta property="timeRequired" content="PT38M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">On This Page</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#ä¸€ã€mybatisç®€ä»‹" class="router-link-active router-link-exact-active toc-link level2">ä¸€ã€MyBatisç®€ä»‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#äºŒã€-å…¥é—¨æ¡ˆä¾‹" class="router-link-active router-link-exact-active toc-link level2">äºŒã€ å…¥é—¨æ¡ˆä¾‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_2-1-å®‰è£…mybatis" class="router-link-active router-link-exact-active toc-link level3">2.1 å®‰è£…Mybatis</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_2-2-é€šè¿‡xmlæ„å»ºsqlsessionfactory" class="router-link-active router-link-exact-active toc-link level3">2.2 é€šè¿‡xmlæ„å»ºSqlSessionFactory</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_2-3-ä»-sqlsessionfactory-ä¸­è·å–-sqlsession" class="router-link-active router-link-exact-active toc-link level3">2.3 ä» SqlSessionFactory ä¸­è·å– SqlSession</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_2-4-æ¢ç©¶å·²æ˜ å°„çš„-sql-è¯­å¥" class="router-link-active router-link-exact-active toc-link level3">2.4 æ¢ç©¶å·²æ˜ å°„çš„ SQL è¯­å¥</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_2-5-è¡¥å……" class="router-link-active router-link-exact-active toc-link level3">2.5 è¡¥å……</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_2-6-æ³¨è§£å¼€å‘" class="router-link-active router-link-exact-active toc-link level3">2.6 æ³¨è§£å¼€å‘</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#ä¸‰ã€mybatis-å…¨å±€é…ç½®æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level2">ä¸‰ã€MyBatis-å…¨å±€é…ç½®æ–‡ä»¶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-1-å±æ€§-properties" class="router-link-active router-link-exact-active toc-link level3">3.1 å±æ€§ï¼ˆpropertiesï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-2-è®¾ç½®-settings" class="router-link-active router-link-exact-active toc-link level3">3.2 è®¾ç½®ï¼ˆsettingsï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-3-ç±»å‹åˆ«å-typealiases" class="router-link-active router-link-exact-active toc-link level3">3.3 ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-4-ç±»å‹å¤„ç†å™¨-typehandlers" class="router-link-active router-link-exact-active toc-link level3">3.4 ç±»å‹å¤„ç†å™¨ï¼ˆtypeHandlersï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-5-pluginsæ’ä»¶" class="router-link-active router-link-exact-active toc-link level3">3.5 pluginsæ’ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-6-environmentsç¯å¢ƒ" class="router-link-active router-link-exact-active toc-link level3">3.6 environmentsç¯å¢ƒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-7-datasource" class="router-link-active router-link-exact-active toc-link level3">3.7 dataSource</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_3-8-mapperæ˜ å°„" class="router-link-active router-link-exact-active toc-link level3">3.8 mapperæ˜ å°„</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#å››ã€mybatis-æ˜ å°„æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level2">å››ã€MyBatis-æ˜ å°„æ–‡ä»¶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-1-å‚æ•°-parameters-ä¼ é€’" class="router-link-active router-link-exact-active toc-link level3">4.1 å‚æ•°ï¼ˆParametersï¼‰ä¼ é€’</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-2-å‚æ•°å¤„ç†" class="router-link-active router-link-exact-active toc-link level3">4.2 å‚æ•°å¤„ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-3-å¢åˆ æ”¹æŸ¥å…ƒç´ " class="router-link-active router-link-exact-active toc-link level3">4.3 å¢åˆ æ”¹æŸ¥å…ƒç´ </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-4-sql" class="router-link-active router-link-exact-active toc-link level3">4.4 SQL</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-5-è‡ªåŠ¨æ˜ å°„" class="router-link-active router-link-exact-active toc-link level3">4.5 è‡ªåŠ¨æ˜ å°„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-6-resultmap" class="router-link-active router-link-exact-active toc-link level3">4.6 resultMap</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_4-7-é‰´åˆ«å™¨" class="router-link-active router-link-exact-active toc-link level3">4.7 é‰´åˆ«å™¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#äº”ã€mybatis-åŠ¨æ€sql" class="router-link-active router-link-exact-active toc-link level2">äº”ã€MyBatis-åŠ¨æ€SQL</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-1-if" class="router-link-active router-link-exact-active toc-link level3">5.1 if</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-2-chooseã€whenã€otherwise" class="router-link-active router-link-exact-active toc-link level3">5.2 chooseã€whenã€otherwise</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-3-trimã€whereã€set" class="router-link-active router-link-exact-active toc-link level3">5.3 trimã€whereã€set</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-4-foreach" class="router-link-active router-link-exact-active toc-link level3">5.4 foreach</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-5-bind" class="router-link-active router-link-exact-active toc-link level3">5.5 bind</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-6-å®ä¾‹" class="router-link-active router-link-exact-active toc-link level3">5.6 å®ä¾‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_5-7-mybatisçš„å‚æ•°å°è£…" class="router-link-active router-link-exact-active toc-link level3">5.7 mybatisçš„å‚æ•°å°è£…</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#å…­ã€mybatis-ç¼“å­˜æœºåˆ¶" class="router-link-active router-link-exact-active toc-link level2">å…­ã€MyBatis-ç¼“å­˜æœºåˆ¶</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_6-1-ä¸€çº§ç¼“å­˜-æœ¬åœ°ç¼“å­˜" class="router-link-active router-link-exact-active toc-link level3">6.1 ä¸€çº§ç¼“å­˜(æœ¬åœ°ç¼“å­˜)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_6-2-äºŒçº§ç¼“å­˜-å…¨å±€ç¼“å­˜" class="router-link-active router-link-exact-active toc-link level3">6.2 äºŒçº§ç¼“å­˜(å…¨å±€ç¼“å­˜)</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#ä¸ƒã€mybatis-é€†å‘å·¥ç¨‹" class="router-link-active router-link-exact-active toc-link level2">ä¸ƒã€MyBatis-é€†å‘å·¥ç¨‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#_7-1-mbgçš„ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level3">7.1 MBGçš„ä½¿ç”¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#å…«ã€å­¦ä¹ mybatisé‡åˆ°çš„é—®é¢˜" class="router-link-active router-link-exact-active toc-link level2">å…«ã€å­¦ä¹ Mybatisé‡åˆ°çš„é—®é¢˜</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#è§£å†³mybatis-æŠ¥é”™invalid-bound-statement-not-found" class="router-link-active router-link-exact-active toc-link level3">è§£å†³Mybatis æŠ¥é”™Invalid bound statement (not found)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#mybatis-æŠ¥é”™there-is-no-getter-for-property-named-lastname-in-class-com-caq-mybatis-bean-employee" class="router-link-active router-link-exact-active toc-link level3">Mybatis æŠ¥é”™There is no getter for property named &#39;lastname&#39; in &#39;class com.caq.mybatis.bean.Employee&#39;</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#mybatisé…ç½®æ–‡ä»¶å¼€å¯é©¼å³°å‘½åæ˜ å°„" class="router-link-active router-link-exact-active toc-link level3">MyBatisé…ç½®æ–‡ä»¶å¼€å¯é©¼å³°å‘½åæ˜ å°„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#æ€ä¹ˆè§£å†³é…ç½®æ–‡ä»¶ä¸­å‡ºç°çš„the-content-of-element-type-configuration-must-match-é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">æ€ä¹ˆè§£å†³é…ç½®æ–‡ä»¶ä¸­å‡ºç°çš„The content of element type &quot;configuration&quot; must match...é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/Mybatis.html#ideaè¿æ¥mysqlæ•°æ®åº“ä¹‹å-ç¼–å†™mapper-xmlæ—¶ä¸ä¼šè‡ªåŠ¨æç¤ºè¡¨ä¿¡æ¯é—®é¢˜ã€‚" class="router-link-active router-link-exact-active toc-link level3">IDEAè¿æ¥Mysqlæ•°æ®åº“ä¹‹åï¼Œç¼–å†™Mapper.xmlæ—¶ä¸ä¼šè‡ªåŠ¨æç¤ºè¡¨ä¿¡æ¯é—®é¢˜ã€‚</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h2 id="ä¸€ã€mybatisç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€mybatisç®€ä»‹" aria-hidden="true">#</a> ä¸€ã€MyBatisç®€ä»‹</h2><p><strong>æ”¾ä¸€ä¸ªå®˜æ–¹çš„è§£é‡Š</strong></p><p>MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒæ”¯æŒè‡ªå®šä¹‰ SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis å…é™¤äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç ä»¥åŠè®¾ç½®å‚æ•°å’Œè·å–ç»“æœé›†çš„å·¥ä½œã€‚<strong>MyBatis å¯ä»¥é€šè¿‡ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸå§‹ç±»å‹ã€æ¥å£å’Œ Java POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šè€å¼ Java å¯¹è±¡ï¼‰ä¸ºæ•°æ®åº“ä¸­çš„è®°å½•ã€‚</strong></p><p><strong>ä»¥æˆ‘çš„è§’åº¦ç”¨ç®€å•çš„è¯æ¥è¯´</strong></p><p>ä¸€ä¸ªæŒä¹…å±‚æ¡†æ¶ï¼Œå°è£…å¤§å¤šæ•°çš„ JDBC æ ·æ¿ä»£ç ï¼Œä½¿å¾—å¼€å‘è€…åªéœ€å…³æ³¨ SQL æœ¬èº«ï¼Œè€Œä¸éœ€è¦èŠ±è´¹ç²¾åŠ›å»å¤„ç†ä¾‹å¦‚æ³¨å†Œé©±åŠ¨ï¼Œåˆ›å»º Connectionï¼Œä»¥åŠç¡®ä¿å…³é—­ Connection è¿™æ ·ç¹æ‚çš„ä»£ç ã€‚é€šè¿‡å†™xmlæ–‡ä»¶æˆ–è€…æ³¨è§£å°†Javaçš„POJOæ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•</p><p>å¥½åƒäººå®¶å†™çš„ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå“ˆå“ˆå“ˆå“ˆ~ï¼</p><p>ä¸‹é¢è¿™ä¸ªæ˜¯Mybatisçš„logoï¼Œå¸¦ç€çº¢è‰²çœ¼ç½©çš„å°èƒ–é¸Ÿå¿è€…</p><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220125214615264.png" alt="image-20220125214615264" tabindex="0" loading="lazy"><figcaption>image-20220125214615264</figcaption></figure><p><strong>åŸæ¥çš„åå­—å«iBais</strong></p><p>æœ¬æ¥ä»£ç åœ¨Apacheæ”¾ç€ï¼Œåæ¥åˆæ”¾åˆ°Google Codeä¸Šäº†ã€‚ç„¶åå°±æ”¹åä¸ºMybatisäº†~</p><p><strong>ä¼˜ç‚¹</strong></p><ul><li>å¾ˆå®¹æ˜“å­¦ï¼Œå¾ˆå°å·§ï¼Œæ²¡æœ‰ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œè£…ä¸¤ä¸ªjaråŒ…+å‡ ä¸ªsqlæ˜ å°„æ–‡ä»¶å³å¯</li><li>çµæ´»ï¼Œå› ä¸ºæˆ‘æ˜¯å­¦å®ŒåŠ¨æ€sqlä¹‹åæ‰å›æ¥å†™çš„ç¬”è®°ï¼Œæœˆå­¦åˆ°åé¢è¶Šå‘ç°è¿™ç©æ„æ˜¯çœŸçµæ´»èƒ½æœ‰å¾ˆå¤šç»„åˆå‘€ï¼Œåˆ¤æ–­å•Šã€‚ç„¶åå‘¢ï¼Œsqlå†™åœ¨xmlæ–‡ä»¶é‡Œï¼Œèƒ½æ–¹ä¾¿çš„è¿›è¡Œç»Ÿä¸€ç®¡ç†å’Œä¼˜åŒ–ã€‚</li><li>æä¾›æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡ä¸æ•°æ®åº“çš„å­—æ®µå…³ç³»æ˜ å°„</li><li>æä¾›xmlæ ‡ç­¾ï¼Œæ”¯æŒåŠ¨æ€sqlå°±æ˜¯ç¼–å†™ä¸€äº›åˆ¤æ–­è¯­å¥æ ¹æ®å®æ—¶å‘ç”Ÿçš„æƒ…å†µè¿›è¡Œæ”¹å˜è¿™å°±å«åŠ¨æ€</li></ul><p><strong>ç¼ºç‚¹</strong></p><ul><li>å†™sql çš„æ—¶å€™å·¥ä½œé‡å¾ˆå¤§ï¼Œå¯¹äºå¾ˆå¤šå­—æ®µçš„ï¼Œå…³è”äº†å¾ˆå¤šè¡¨çš„æ›´æ˜¯è¿™æ ·ï¼Œå­¦ç€å­¦ç€æˆ‘å°±æœ‰æ„Ÿè§‰è¿™ç©æ„ä¹Ÿæ²¡å¤šå®¹æ˜“å•Šä¸æƒ³å‰é¢å­¦çš„springå’ŒspringMVCè¿™ä¹ˆç®€å•ï¼Œè¿™è¿˜æ˜¯è¦å†™è¿™ä¹ˆå¤šã€‚</li><li>sqlè¯­å¥ä¾èµ–äºæ•°æ®åº“ï¼Œç§»æ¤æ€§å·®</li><li>äºŒçº§ç¼“å†²æœºåˆ¶ä¸å¤ªè¡Œ</li></ul><h2 id="äºŒã€-å…¥é—¨æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#äºŒã€-å…¥é—¨æ¡ˆä¾‹" aria-hidden="true">#</a> äºŒã€ å…¥é—¨æ¡ˆä¾‹</h2><h3 id="_2-1-å®‰è£…mybatis" tabindex="-1"><a class="header-anchor" href="#_2-1-å®‰è£…mybatis" aria-hidden="true">#</a> 2.1 å®‰è£…Mybatis</h3><p>æˆ‘ä»¬é€šè¿‡Mavenæ¥è§£å†³èµ„æºåŒ…é—®é¢˜</p><p>åˆ†åˆ«æœ‰mysqlï¼Œmybatisï¼Œjunit</p><p>åé¢æˆ‘åˆæ”¾äº†ä¸ªæ’ä»¶ï¼Œé˜²æ­¢æ³¨å†Œçš„æ—¶å€™æŠŠxmlæ–‡ä»¶æ‰“ä¸è¿›å»ï¼ˆåé¢ä¼šç”¨åˆ°ï¼‰</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.caq.jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jdbc-demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.47<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.4.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.13.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>ch.qos.logback<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>logback-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.7.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>ch.qos.logback<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>logback-classic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- é¡¹ç›®æ‰“åŒ…æ—¶ä¼šå°†javaç›®å½•ä¸­çš„*.xmlæ–‡ä»¶ä¹Ÿè¿›è¡Œæ‰“åŒ… --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-é€šè¿‡xmlæ„å»ºsqlsessionfactory" tabindex="-1"><a class="header-anchor" href="#_2-2-é€šè¿‡xmlæ„å»ºsqlsessionfactory" aria-hidden="true">#</a> 2.2 é€šè¿‡xmlæ„å»ºSqlSessionFactory</h3><p><strong>é€šè¿‡xmlæ„å»ºSqlSessionFactory</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä»¥ä¸‹æ˜¯mybatis-config.xmlå’Œjdbc.propertiesé…ç½®</strong></p><p>æ¯ä¸ªåŸºäº MyBatis çš„åº”ç”¨éƒ½æ˜¯ä»¥ä¸€ä¸ª SqlSessionFactory çš„å®ä¾‹ä¸ºæ ¸å¿ƒçš„ã€‚SqlSessionFactory çš„å®ä¾‹å¯ä»¥é€šè¿‡ SqlSessionFactoryBuilder è·å¾—ã€‚è€Œ SqlSessionFactoryBuilder åˆ™å¯ä»¥ä» XML é…ç½®æ–‡ä»¶æˆ–ä¸€ä¸ªé¢„å…ˆé…ç½®çš„ Configuration å®ä¾‹æ¥æ„å»ºå‡º SqlSessionFactory å®ä¾‹ã€‚</p><p><mark>æ‰€ä»¥å…ˆå†™ä¸ªxmlé…ç½®æ–‡ä»¶æ¥é…ç½®SqlSessionFactory</mark></p><p><strong>å®éªŒç¯å¢ƒå¦‚ä¸‹ï¼š</strong></p><blockquote><p>Idea2019.3</p><p>mysql5.X</p><p>mybatis5.X</p><p>Maven3.8</p></blockquote><p><strong>ç›®å½•ç»“æ„å¦‚ä¸‹</strong></p><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220125222116075.png" alt="image-20220125222116075" tabindex="0" loading="lazy"><figcaption>image-20220125222116075</figcaption></figure><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token key attr-name">jdbc.driver</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.jdbc.Driver</span>
<span class="token key attr-name">jdbc.url</span> <span class="token punctuation">=</span> <span class="token value attr-value">jdbc:mysql://localhost:3306/mybatis</span>
<span class="token key attr-name">jdbc.username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">jdbc.password</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>mybatiså¯ä»¥ä½¿ç”¨propertiesæ¥å¼•å…¥å¤–éƒ¨propertiesé…ç½®æ–‡ä»¶çš„å†…å®¹ resource:å¼•å…¥ç±»è·¯å¾„ä¸‹çš„èµ„æº urlï¼šå¼•å…¥ç½‘ç»œè·¯å¾„æˆ–ç£ç›˜è·¯å¾„ä¸‹èµ„æº</p><p>æˆ‘ä»¬é€šè¿‡å¼•å…¥å¤–éƒ¨é…ç½®æ–‡ä»¶çš„æ–¹å¼æ¥é…ç½®å…¨å±€é…ç½®æ–‡ä»¶ï¼Œè¿›ä¸€æ­¥è§£è€¦æ–¹ä¾¿ç»´æŠ¤~</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dbconfig.properties<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--                å–å‡ºé…ç½®æ–‡ä»¶ä¸­çš„å€¼ç”¨çš„æ˜¯${}çš„å½¢å¼--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-ä»-sqlsessionfactory-ä¸­è·å–-sqlsession" tabindex="-1"><a class="header-anchor" href="#_2-3-ä»-sqlsessionfactory-ä¸­è·å–-sqlsession" aria-hidden="true">#</a> 2.3 ä» SqlSessionFactory ä¸­è·å– SqlSession</h3><p>è·å–sqlSessionçš„å®ä¾‹ï¼Œèƒ½ç›´æ¥æ‰§è¡Œå·²ç»æ˜ å°„çš„sqlè¯­å¥</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">SqlSession</span> openSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é¡¾åæ€ä¹‰ï¼ˆä»åç§°æƒ³åˆ°æ‰€åŒ…å«çš„æ„ä¹‰ï¼Œç»™ç”¨å¿ƒçš„æˆ‘ç‚¹ä¸ªå¤§å¤§çš„èµï¼ï¼‰ï¼Œä¸åœ¨è¯¦ç»†è§£é‡Šæ ‡é¢˜å•¥æ„æ€äº†~</p><p><mark>Mybatisæ‰§è¡Œæµç¨‹ï¼š</mark></p><ol><li><p>æ ¹æ®xmlæ–‡ä»¶ï¼ˆå…¨å±€é…ç½®æ–‡ä»¶ï¼‰åˆ›å»ºä¸€ä¸ªSqlSessionFactoryå¯¹è±¡é‡Œé¢æœ‰æ•°æ®æºå’Œä¸€äº›è¿è¡Œç¯å¢ƒä¿¡æ¯</p></li><li><p>sqlæ˜ å°„æ–‡ä»¶ï¼Œé…ç½®äº†æ¯ä¸€ä¸ªsqlï¼Œä»¥åŠsqlçš„å°è£…è§„åˆ™ç­‰ã€‚</p></li><li><p>å°†sqlæ˜ å°„æ–‡ä»¶æ³¨å†Œåœ¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­</p></li><li><p>å†™ä»£ç </p><p>â€‹ æ ¹æ®å…¨å±€é…ç½®æ–‡ä»¶å¾—åˆ°sqlSessionFactory</p><p>â€‹ ä½¿ç”¨sqlSessionå·¥å‚ï¼Œè·å–åˆ°sqlSessionå¯¹è±¡ä½¿ç”¨å®ƒæ¥æ‰§è¡ŒCRUD</p><p>â€‹ ä¸€ä¸ªsqlSessionå°±æ˜¯ä»£è¡¨å’Œæ•°æ®åº“çš„ä¸€æ¬¡ä¼šè¯ï¼Œç”¨å®Œå…³é—­</p><p>â€‹ ä½¿ç”¨sqlçš„å”¯ä¸€æ ‡å¿—æ¥å‘Šè¯‰Mybatisæ‰§è¡Œé‚£ä¸ªsqlã€‚sqléƒ½æ˜¯ä¿å­˜åœ¨sqlæ˜ å°„æ–‡ä»¶é‡Œçš„</p></li></ol><h3 id="_2-4-æ¢ç©¶å·²æ˜ å°„çš„-sql-è¯­å¥" tabindex="-1"><a class="header-anchor" href="#_2-4-æ¢ç©¶å·²æ˜ å°„çš„-sql-è¯­å¥" aria-hidden="true">#</a> 2.4 æ¢ç©¶å·²æ˜ å°„çš„ SQL è¯­å¥</h3><p>æ—¢ç„¶è¦æ˜ å°„sqlè¯­å¥æˆ‘ä»¬å…ˆè¦åˆ›å»ºå¯¹åº”çš„æ•°æ®åº“</p><p>å’Œå¯¹åº”æ•°æ®åº“å­—æ®µçš„çš„å®ä½“ç±»</p><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220126113840915.png" alt="image-20220126113840915" tabindex="0" loading="lazy"><figcaption>image-20220126113840915</figcaption></figure><p>@Aliasè¿™ä¸ªæ³¨è§£æ˜¯ç»™è¿™ä¸ªå®ä½“ç±»èµ·çš„åˆ«åå«emp</p><p>é€šè¿‡è¿™ä¸ªå®ä½“ç±»æ¥æ˜ å°„æ•°æ®åº“ä¸­çš„ä¸€æ¡è®°å½•ï¼Œä¸€ä¸ªå¯¹è±¡å°±æ˜¯æ•°æ®åº“ä¸­çš„ä¸€æ¡è®°å½•~</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>caq<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>bean</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>type<span class="token punctuation">.</span></span><span class="token class-name">Alias</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Alias</span><span class="token punctuation">(</span><span class="token string">&quot;emp&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@ToString</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> gender<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Department</span> dept<span class="token punctuation">;</span>


<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><mark>ä¸‹é¢è¿™ä¸ªå°±æ˜¯sqlæ˜ å°„æ–‡ä»¶</mark></p><ol><li><strong>namespaceå°±æ˜¯å‘½åç©ºé—´;æŒ‡å®šä¸ºæ¥å£çš„å…¨ç±»å</strong></li><li><strong>idå°±æ˜¯å”¯ä¸€æ ‡è¯†</strong></li><li><strong>resultTypeå°±æ˜¯è¿”å›å€¼ç±»å‹ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³è¿”å›çš„æ˜¯å‘˜å·¥çš„ä¿¡æ¯ï¼Œé‚£æˆ‘ä»¬å°±è¿”å›Employeeçš„å…¨ç±»å</strong></li><li><strong>##{id}:ä»ä¼ é€’è¿‡æ¥çš„å‚æ•°ä¸­å–å‡ºidå€¼</strong></li><li><strong>idæŒ‡å®šæ¥å£ä¸­çš„æ–¹æ³•ï¼Œè¿™æ ·ä¸ä»…æ–‡ä»¶å’Œæ¥å£ç»‘å®šï¼Œselectæ ‡ç­¾ä¹Ÿå’Œæ–¹æ³•è¿›è¡Œäº†ç»‘å®š</strong></li></ol><p>ä»¥ä¸Šå‡ ç‚¹éƒ½æ˜¯é‡ç‚¹ï¼ï¼ï¼ç”»é»‘æ¿äº†ï¼Œè®°åˆ°æœ¬å­ä¸Šï¼</p><p>æ˜ å°„æ–‡ä»¶</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.dao.EmployeeMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯selectè¿™ä¸ªæ ‡ç­¾æ˜¯EmployeeMapperæ¥å£ä¸‹getEmpByIdæ–¹æ³•çš„å®ç°--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select * from tbl_employee
        where id = ##{id}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°†æˆ‘ä»¬å†™å¥½çš„sqlæ˜ å°„æ–‡ä»¶ä¸€å®šè¦æ³¨å†Œåˆ°å…¨å±€é…ç½®æ–‡ä»¶ä¸­</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--        &lt;mapper resource=&quot;EmployeeMapper.xml&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;mapper class=&quot;com.caq.mybatis.dao.EmployeeMapperAnnotation&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--        æ‰¹é‡æ³¨å†Œ--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.dao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•æ•ˆæœ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token function">getSqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SqlSession</span> openSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">EmployeeMapper</span> mapper <span class="token operator">=</span> openSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Employee</span> employee <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        openSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

ç»“æœå¦‚ä¸‹ï¼š

<span class="token class-name">Employee</span><span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> lastName<span class="token operator">=</span><span class="token char">&#39;tom&#39;</span><span class="token punctuation">,</span> email<span class="token operator">=</span>&#39;tom<span class="token annotation punctuation">@caq.com</span>&#39;<span class="token punctuation">,</span> gender<span class="token operator">=</span><span class="token char">&#39;0&#39;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-5-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_2-5-è¡¥å……" aria-hidden="true">#</a> 2.5 è¡¥å……</h3><p><mark>å¼€å‘æµç¨‹ï¼š</mark></p><ol><li><p>userè¡¨ï¼Œæ·»åŠ æ•°æ®</p></li><li><p>åˆ›å»ºæ¨¡å—ï¼Œå¯¼å…¥åæ ‡</p></li><li><p>ç¼–å†™Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶--ã€‹æ›¿æ¢è¿æ¥ä¿¡æ¯ï¼Œè§£å†³ç¡¬ç¼–ç é—®é¢˜</p></li><li><p>ç¼–å†™sqlæ˜ å°„æ–‡ä»¶--ã€‹åŒä¸€ç®¡ç†sqlè¯­å¥ï¼Œè§£å†³ç¡¬ç¼–ç é—®é¢˜</p></li><li><p>ç¼–ç </p><ul><li>å®šä¹‰POJOç±»</li><li>åŠ è½½æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œè·å–SqlSessionFactoryå¯¹è±¡</li><li>è·å–SqlSessionå¯¹è±¡ï¼Œæ‰§è¡ŒSQLè¯­å¥</li><li>é‡Šæ”¾èµ„æº</li></ul></li></ol><p>Mybatiså®Œæˆæ“ä½œéœ€è¦å‡ æ­¥ï¼Ÿ</p><p>ç¼–å†™æ¥å£æ–¹æ³•--ã€‹ç¼–å†™SQL--ã€‹æ‰§è¡Œæ–¹æ³•</p><p>{}çš„ä½œç”¨ï¼š</p><p>å‚æ•°ä¼ é€’çš„æ—¶å€™ç”¨##{}ï¼Œå¯ä»¥å°†å‚æ•°å˜ä¸ºï¼Ÿèƒ½é˜²æ­¢sqlæ³¨å…¥</p><h3 id="_2-6-æ³¨è§£å¼€å‘" tabindex="-1"><a class="header-anchor" href="#_2-6-æ³¨è§£å¼€å‘" aria-hidden="true">#</a> 2.6 æ³¨è§£å¼€å‘</h3><p><mark>é¢å‘æ¥å£ç¼–ç¨‹</mark></p><p>ä»€ä¹ˆæ˜¯é¢å‘æ¥å£ç¼–ç¨‹ï¼Ÿ</p><p><strong>é¢å‘æ¥å£ç¼–ç¨‹æ˜¯å…ˆæŠŠå®¢æˆ·çš„ä¸šåŠ¡é€»è¾‘çº¿æå–å‡ºæ¥ï¼Œä½œä¸ºæ¥å£ï¼Œä¸šåŠ¡å…·ä½“å®ç°é€šè¿‡è¯¥æ¥å£çš„å®ç°ç±»æ¥å®Œæˆã€‚å½“å®¢æˆ·éœ€æ±‚å˜åŒ–æ—¶ï¼Œåªéœ€ç¼–å†™è¯¥ä¸šåŠ¡é€»è¾‘çš„æ–°çš„å®ç°ç±»ï¼Œé€šè¿‡æ›´æ”¹é…ç½®æ–‡ä»¶ä¸­è¯¥æ¥å£çš„å®ç°ç±»å°±å¯ä»¥å®Œæˆéœ€æ±‚ï¼Œä¸éœ€è¦æ”¹å†™ç°æœ‰ä»£ç ï¼Œå‡å°‘å¯¹ç³»ç»Ÿçš„å½±å“ã€‚ï¼ˆè¿™ä¸ªæ¦‚å¿µçš„ç†è§£å¾ˆé‡è¦ï¼Œå…ˆè®°ç€åé¢å®è·µçš„æ—¶å€™ä¼šè¶Šæ¥è¶Šæ¸…æ™°ï¼ï¼‰</strong></p><blockquote><p>è¿™é‡Œæˆ‘ç»“åˆåé¢springbootçš„ä¸€äº›æ–¹å¼ï¼Œé‡Šæ”¾äº†mybatis-config.xmlæ–‡ä»¶,é€šè¿‡ymlæ–‡ä»¶ä¸­çš„æŒ‡å®šæ¥æ›¿æ¢ã€‚æ•°æ®åº“æ˜ å°„mapper.xmlæ–‡ä»¶é€šè¿‡åœ¨æ¥å£ä¸Šå†™@Mapperæ³¨è§£å’Œæ–¹æ³•ä¸Šå†™æ³¨è§£çš„æ–¹å¼å®ç°</p></blockquote><p>å¦‚ä¸‹ï¼š</p><p>ymlæ–‡ä»¶</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">mybatis</span><span class="token punctuation">:</span>
<span class="token comment">##  é€šè¿‡ymlé…ç½®æ–‡ä»¶çš„æ–¹å¼è§£æ”¾äº†mybatis-config.xmlæ–‡ä»¶</span>
  <span class="token key atrule">configuration</span><span class="token punctuation">:</span>
    <span class="token key atrule">map-underscore-to-camel-case</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">##å¼€å¯é©¼å³°å‘½å</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Mapperæ¥å£</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>caq<span class="token punctuation">.</span>admin<span class="token punctuation">.</span>mapper</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>caq<span class="token punctuation">.</span>admin<span class="token punctuation">.</span>bean<span class="token punctuation">.</span></span><span class="token class-name">Account</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Mapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Select</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token comment">//é€šè¿‡å†™@Mapperæ³¨è§£çš„æ–¹å¼é‡Šæ”¾äº†å†™mapper.xmlæ˜ å°„æ–‡ä»¶çš„æ–¹å¼</span>

<span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountMapper</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Select</span><span class="token punctuation">(</span><span class="token string">&quot;select * from account where id = ##{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">Account</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>serviceå±‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>caq<span class="token punctuation">.</span>admin<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>caq<span class="token punctuation">.</span>admin<span class="token punctuation">.</span>bean<span class="token punctuation">.</span></span><span class="token class-name">Account</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>caq<span class="token punctuation">.</span>admin<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">AccountMapper</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">AccountMapper</span> accountMapper<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Account</span> <span class="token function">getAcc</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> accountMapper<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>controllerå±‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IndexController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">AccountService</span> accountService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/account&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Account</span> <span class="token function">getAccount</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> accountService<span class="token punctuation">.</span><span class="token function">getAcc</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220219184053789.png" alt="image-20220219184053789" tabindex="0" loading="lazy"><figcaption>image-20220219184053789</figcaption></figure><h2 id="ä¸‰ã€mybatis-å…¨å±€é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€mybatis-å…¨å±€é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> ä¸‰ã€MyBatis-å…¨å±€é…ç½®æ–‡ä»¶</h2><p>é…ç½®æ–‡ä»¶å¾ˆé‡è¦ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹é…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°éƒ½æ˜¯ä»€ä¹ˆæ„æ€ï¼</p><p>é…ç½®æ–‡æ¡£çš„é¡¶å±‚ç»“æ„å¦‚ä¸‹ï¼š</p><ul><li>configurationï¼ˆé…ç½®ï¼‰ <ul><li>propertiesï¼ˆå±æ€§ï¼‰</li><li>settingsï¼ˆè®¾ç½®ï¼‰</li><li>typeAliasesï¼ˆç±»å‹åˆ«åï¼‰</li><li>typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰</li><li>objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰</li><li>pluginsï¼ˆæ’ä»¶ï¼‰</li><li>environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰ <ul><li>environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰ <ul><li>transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰</li><li>dataSourceï¼ˆæ•°æ®æºï¼‰</li></ul></li></ul></li><li>databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰</li><li>mappersï¼ˆæ˜ å°„å™¨ï¼‰</li></ul></li></ul><h3 id="_3-1-å±æ€§-properties" tabindex="-1"><a class="header-anchor" href="#_3-1-å±æ€§-properties" aria-hidden="true">#</a> 3.1 å±æ€§ï¼ˆpropertiesï¼‰</h3><p>mybatiså¯ä»¥ä½¿ç”¨propertiesæ¥å¼•å…¥å¤–éƒ¨propertiesé…ç½®æ–‡ä»¶çš„å†…å®¹ resource:å¼•å…¥ç±»è·¯å¾„ä¸‹çš„èµ„æº urlï¼šå¼•å…¥ç½‘ç»œè·¯å¾„æˆ–ç£ç›˜è·¯å¾„ä¸‹èµ„æº</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dbconfig.properties<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è®¾ç½®å¥½çš„å±æ€§å¯ä»¥åœ¨æ•´ä¸ªé…ç½®æ–‡ä»¶ä¸­ç”¨æ¥æ›¿æ¢éœ€è¦åŠ¨æ€é…ç½®çš„å±æ€§å€¼ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--                å–å‡ºé…ç½®æ–‡ä»¶ä¸­çš„å€¼ç”¨çš„æ˜¯${}çš„å½¢å¼--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å‰é¢çš„ä¾‹å­æˆ‘ä»¬ç”¨çš„ä¹Ÿæ˜¯è¿™ç§æ–¹å¼ï¼Œå†™ä¸€ä¸ªé…ç½®æ–‡ä»¶åœ¨å¤–éƒ¨ï¼Œä¹‹åæˆ‘ä»¬åœ¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­é€šè¿‡propertieså¼•å…¥é…ç½®æ–‡ä»¶ï¼Œä¹‹åé€šè¿‡${}æ¥å–é…ç½®æ–‡ä»¶ä¸­çš„å€¼</strong></p><h3 id="_3-2-è®¾ç½®-settings" tabindex="-1"><a class="header-anchor" href="#_3-2-è®¾ç½®-settings" aria-hidden="true">#</a> 3.2 è®¾ç½®ï¼ˆsettingsï¼‰</h3><p>è¿™æ˜¯ MyBatis ä¸­æä¸ºé‡è¦çš„è°ƒæ•´è®¾ç½®ï¼Œå®ƒä»¬ä¼šæ”¹å˜ MyBatis çš„è¿è¡Œæ—¶è¡Œä¸ºã€‚ ä¸‹è¡¨æè¿°äº†è®¾ç½®ä¸­å„é¡¹è®¾ç½®çš„å«ä¹‰ã€é»˜è®¤å€¼ç­‰ã€‚</p><p>è¿™å‡ ä¸ª æ˜¯å¾ˆé‡è¦çš„ç‚¹ï¼Œæ‰€ä»¥ç‰¹åœ°æå‡ºæ¥</p><table><thead><tr><th style="text-align:left;">è®¾ç½®å</th><th style="text-align:left;">æè¿°</th><th style="text-align:left;">æœ‰æ•ˆå€¼</th><th style="text-align:left;">é»˜è®¤å€¼</th></tr></thead><tbody><tr><td style="text-align:left;">cacheEnabled</td><td style="text-align:left;">è¯¥é…ç½®å½±å“æ‰€æœ‰æ˜ å°„å™¨ä¸­é…ç½®çš„ç¼“å­˜çš„å…¨å±€å¼€å…³</td><td style="text-align:left;">true | false</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">lazyLoadingEnabled</td><td style="text-align:left;">å»¶è¿ŸåŠ è½½çš„å…¨å±€å¼€å…³ã€‚å½“å¼€å¯æ—¶ï¼Œæ‰€æœ‰å…³è”å¯¹è±¡éƒ½ä¼šå»¶è¿ŸåŠ è½½ã€‚ ç‰¹å®šå…³è”å…³ç³»ä¸­å¯é€šè¿‡è®¾ç½® <code>fetchType</code> å±æ€§æ¥è¦†ç›–è¯¥é¡¹çš„å¼€å…³çŠ¶æ€ã€‚</td><td style="text-align:left;">true | false</td><td style="text-align:left;">false</td></tr><tr><td style="text-align:left;">useColumnLabel</td><td style="text-align:left;"><strong>ä½¿ç”¨åˆ—æ ‡ç­¾ä»£æ›¿åˆ—å</strong>ã€‚å®é™…è¡¨ç°ä¾èµ–äºæ•°æ®åº“é©±åŠ¨ï¼Œå…·ä½“å¯å‚è€ƒæ•°æ®åº“é©±åŠ¨çš„ç›¸å…³æ–‡æ¡£ï¼Œæˆ–é€šè¿‡å¯¹æ¯”æµ‹è¯•æ¥è§‚å¯Ÿã€‚</td><td style="text-align:left;">true | false</td><td style="text-align:left;">true</td></tr><tr><td style="text-align:left;">defaultStatementTimeout</td><td style="text-align:left;"><strong>è®¾ç½®è¶…æ—¶æ—¶é—´</strong>ï¼Œå®ƒå†³å®šæ•°æ®åº“é©±åŠ¨ç­‰å¾…æ•°æ®åº“å“åº”çš„ç§’æ•°ã€‚</td><td style="text-align:left;">ä»»æ„æ­£æ•´æ•°</td><td style="text-align:left;">æœªè®¾ç½® (null)</td></tr><tr><td style="text-align:left;">mapUnderscoreToCamelCase</td><td style="text-align:left;"><strong>æ˜¯å¦å¼€å¯é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„ï¼Œå³ä»ç»å…¸æ•°æ®åº“åˆ—å A_COLUMN æ˜ å°„åˆ°ç»å…¸ Java å±æ€§å aColumnã€‚</strong></td><td style="text-align:left;">true | false</td><td style="text-align:left;">False</td></tr></tbody></table><p>é©¼å³°å‘½åçš„å¼€å¯å¾ˆé‡è¦ï¼Œå› ä¸ºåœ¨æ•°æ®åº“ä¸­çš„å­—æ®µä¸¤ä¸ªå­—æ¯ç»„æˆçš„æ„æ€çš„æ—¶å€™å¾€å¾€é€šè¿‡ä¸‹åˆ’çº¿(_)åˆ†å‰²ï¼Œä½†åœ¨javaä¸­éƒ½æ˜¯é©¼å³°å‹çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥å¼€å¯mapUnderscoreToCamelCase æ¥è¿›è¡Œæ•°æ®åº“å­—æ®µå’Œjavaå±æ€§çš„æ˜ å°„ã€‚ä¸‹é¢ä¼šæœ‰æ¼”ç¤º</p><p>settingsåŒ…å«å¾ˆå¤šé‡è¦çš„è®¾ç½®é¡¹ settingç”¨æ¥è®¾ç½®æ¯ä¸€ä¸ªè®¾ç½®é¡¹ nameè®¾ç½®é¡¹å valueè®¾ç½®é¡¹å–å€¼</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapUnderscoreToCamelCase<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aggressiveLazyLoading<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬ä¸€ä¸ªæˆ‘ä»¬å¼€å¯äº†é©¼å³°æ˜ å°„ï¼Œç¬¬äºŒä¸ªæ˜¯å»¶è¿ŸåŠ è½½åé¢æˆ‘ä»¬ä¼šè¯´</p><p>æˆ‘ä»¬æ¥çœ‹çœ‹æ˜¯æ€ä¹ˆæ˜ å°„çš„</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Alias</span><span class="token punctuation">(</span><span class="token string">&quot;emp&quot;</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬çš„å®ä½“ç±»Employeeè¿™ä¸ªå­—æ®µåæ˜¯lastName</p><p>æ•°æ®åº“ä¸­çš„è¿™ä¸ªå­—æ®µæ˜¯last_name å¼€å¯åï¼Œä¼šè‡ªåŠ¨æŠŠlast_nameæ˜ å°„ä¸ºlastNameæ‰€ä»¥æŸ¥è¯¢çš„è¯æ˜¯èƒ½æŸ¥è¯¢æˆåŠŸçš„</p><p>è¿™ä¸ªæ˜¯sqlæ˜ å°„æ–‡ä»¶ï¼ˆæ¥å£å¼ç¼–ç¨‹ï¼Œæˆ‘ä»¬è¦å…ˆåœ¨æ¥å£ä¸­å®šä¹‰getEmpByIdæ–¹æ³•ï¼Œå‚æ•°è®¾ç½®ä¸ºidï¼‰</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--    idæŒ‡å®šæ¥å£ä¸­çš„æ–¹æ³•ï¼Œè¿™æ ·ä¸ä»…æ–‡ä»¶å’Œæ¥å£ç»‘å®šï¼Œselectæ ‡ç­¾ä¹Ÿå’Œæ–¹æ³•è¿›è¡Œäº†ç»‘å®š
ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯selectè¿™ä¸ªæ ‡ç­¾æ˜¯EmployeeMapperæ¥å£ä¸‹getEmpByIdæ–¹æ³•çš„å®ç°
--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tbl_employee
    where id = ##{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">//    æ¥å£å¼ç¼–ç¨‹ï¼Œæ–¹ä¾¿è§£è€¦</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
<span class="token comment">//        1ã€è·å–sqlSessionFactoryå¯¹è±¡</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token function">getSqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        2ã€è·å–sqlSessionå¯¹è±¡</span>
        <span class="token class-name">SqlSession</span> openSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">//        3ã€è·å–æ¥å£çš„å®ç°ç±»å¯¹è±¡</span>
            <span class="token class-name">EmployeeMapper</span> mapper <span class="token operator">=</span> openSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//            ç¬¬äºŒç§æ–¹å¼æ˜¯å…ˆè·å–æ¥å£çš„å®ç°ç±»å¯¹è±¡ï¼Œä¹‹åå®ç°æ¥å£çš„æ–¹æ³•ä¼ å…¥å‚æ•°</span>
            <span class="token class-name">Employee</span> employee <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            openSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p id="1," lastName="&#39;tom&#39;," email="&#39;tom@caq.com&#39;," gender="&#39;0&#39;">Employee</p><p>å¯ä»¥çœ‹åˆ°lastNameæ˜¯æœ‰å€¼çš„</p><p>å¦‚æœå…³é—­é©¼å³°ï¼ŒlastNameè¿™åˆ—æ˜¯ä¸æ˜¾ç¤ºå€¼çš„å¦‚ä¸‹</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapUnderscoreToCamelCase<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>aggressiveLazyLoading<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸­é—´çš„æ­¥éª¤ä¸€æ ·ä¸åœ¨èµ˜è¿°ï¼Œç»“æœä¸ºï¼š</p><p id="1," lastName="NULL," email="&#39;tom@caq.com&#39;," gender="&#39;0&#39;">Employee</p><h3 id="_3-3-ç±»å‹åˆ«å-typealiases" tabindex="-1"><a class="header-anchor" href="#_3-3-ç±»å‹åˆ«å-typealiases" aria-hidden="true">#</a> 3.3 ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰</h3><p>ç±»å‹åˆ«åå¯ä¸º Java ç±»å‹è®¾ç½®ä¸€ä¸ªç¼©å†™åå­—ã€‚ å®ƒä»…ç”¨äº XML é…ç½®ï¼Œæ„åœ¨é™ä½å†—ä½™çš„å…¨é™å®šç±»åä¹¦å†™ã€‚ä¾‹å¦‚ï¼š</p><p>typeAliases:åˆ«åå¤„ç†å™¨ï¼Œå¯ä»¥ä¸ºæˆ‘ä»¬çš„javaç±»å‹èµ·åˆ«å åˆ«åä¸åŒºåˆ†å¤§å°å†™ typeAliasesä¸ºæŸä¸ªjavaç±»å‹èµ·åˆ«å typeï¼šæŒ‡å®šè¦èµ·åˆ«åçš„ç±»å‹å…¨ç±»åï¼›é»˜è®¤åˆ«åå°±æ˜¯ç±»åå°å†™ï¼›employee aliasï¼šæŒ‡å®šæ–°çš„åˆ«å</p><p>packageï¼šä¸ºæŸä¸ªåŒ…ä¸‹çš„æ‰€æœ‰ç±»æ‰¹é‡èµ·åˆ«å <strong>nameï¼šæŒ‡å®šåŒ…åï¼ˆä¸ºå½“å‰åŒ…ä»¥åŠä¸‹é¢æ‰€æœ‰çš„åä»£åŒ…çš„æ¯ä¸€ä¸ªç±»éƒ½èµ·ä¸€ä¸ªé»˜è®¤åˆ«åï¼ˆç±»åå°å†™ï¼‰)</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAlias</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAlias</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--æ‰¹é‡åˆ«å--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.bean<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰¹é‡èµ·åˆ«åçš„æƒ…å†µä¸‹æˆ‘ä»¬ä¸æƒ³ç”¨é»˜è®¤çš„è¯ï¼Œ<strong>å¯ä»¥ä½¿ç”¨@Aliasæ³¨è§£ä¸ºæŸä¸ªç±»å‹æŒ‡å®šæ–°çš„åˆ«å</strong></p><p>æ˜¯å§ï¼Œæˆ‘ä»¬åœ¨Employeeå®ä½“ç±»ä¸Šé¢åŠ äº†ä¸ª@Aliasç»™å®ƒèµ·äº†ä¸ªåˆ«åå«emp</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Alias</span><span class="token punctuation">(</span><span class="token string">&quot;emp&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä½†æ˜¯å‘¢ï¼Œè™½ç„¶æœ‰åˆ«åï¼Œä¸ºäº†é¡¹ç›®æ›´å¥½çš„ç»´æŠ¤æˆ‘ä»¬ä¸€èˆ¬éƒ½ä½¿ç”¨å…¨ç±»åã€‚è¦ä¸ç„¶è°çŸ¥é“ä½ å†™çš„åˆ«åæ˜¯å•¥æ„æ€</strong></p><h3 id="_3-4-ç±»å‹å¤„ç†å™¨-typehandlers" tabindex="-1"><a class="header-anchor" href="#_3-4-ç±»å‹å¤„ç†å™¨-typehandlers" aria-hidden="true">#</a> 3.4 ç±»å‹å¤„ç†å™¨ï¼ˆtypeHandlersï¼‰</h3><p>æ— è®ºæ˜¯MyBatisåœ¨é¢„å¤„ç†è¯­å¥(PreparedStatement )ä¸­è®¾ç½®ä¸€ä¸ªå‚æ•°æ—¶,è¿˜æ˜¯ä»ç»“æœé›†ä¸­å–å‡ºä¸€ä¸ªå€¼æ—¶ï¼Œéƒ½ä¼šç”¨ç±»å‹å¤„ç†å™¨å°†è·å–çš„å€¼ä»¥åˆé€‚çš„æ–¹å¼è½¬æ¢æˆJavaç±»å‹ã€‚</p><h3 id="_3-5-pluginsæ’ä»¶" tabindex="-1"><a class="header-anchor" href="#_3-5-pluginsæ’ä»¶" aria-hidden="true">#</a> 3.5 pluginsæ’ä»¶</h3><p>æ’ä»¶æ˜¯MyBatisæä¾›çš„ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ’ä»¶æ¥ä¿®æ”¹MyBatisçš„ä¸€äº›æ ¸å¿ƒè¡Œä¸ºã€‚æ’ä»¶é€šè¿‡åŠ¨æ€ä»£ç†æœºåˆ¶ï¼Œå¯ä»¥ä»‹å…¥å››å¤§å¯¹è±¡çš„ä»»ä½•ä¸€ä¸ªæ–¹æ³•çš„æ‰§è¡Œ</p><h3 id="_3-6-environmentsç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#_3-6-environmentsç¯å¢ƒ" aria-hidden="true">#</a> 3.6 environmentsç¯å¢ƒ</h3><p><strong>å°½ç®¡å¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œä½†æ¯ä¸ª SqlSessionFactory å®ä¾‹åªèƒ½é€‰æ‹©ä¸€ç§ç¯å¢ƒã€‚</strong></p><p>æ‰€ä»¥ï¼Œå¦‚æœä½ æƒ³è¿æ¥ä¸¤ä¸ªæ•°æ®åº“ï¼Œå°±éœ€è¦åˆ›å»ºä¸¤ä¸ª SqlSessionFactory å®ä¾‹ï¼Œæ¯ä¸ªæ•°æ®åº“å¯¹åº”ä¸€ä¸ªã€‚è€Œå¦‚æœæ˜¯ä¸‰ä¸ªæ•°æ®åº“ï¼Œå°±éœ€è¦ä¸‰ä¸ªå®ä¾‹ï¼Œä¾æ­¤ç±»æ¨ï¼Œè®°èµ·æ¥å¾ˆç®€å•ï¼š</p><ul><li><strong>æ¯ä¸ªæ•°æ®åº“å¯¹åº”ä¸€ä¸ª SqlSessionFactory å®ä¾‹</strong></li></ul><p>MyBatiså¯ä»¥é…ç½®å¤šç§ç¯å¢ƒï¼Œæ¯”å¦‚å¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒéœ€è¦æœ‰ä¸åŒçš„é…ç½®ã€‚</p><p>æ¯ç§ç¯å¢ƒä½¿ç”¨ä¸€ä¸ªenvironmentæ ‡ç­¾è¿›è¡Œé…ç½®å¹¶æŒ‡å®šå”¯ä¸€æ ‡è¯†ç¬¦</p><p>å¯ä»¥é€šè¿‡environmentsæ ‡ç­¾ä¸­çš„defaultå±æ€§æŒ‡å®š</p><p>ä¸€ä¸ªç¯å¢ƒçš„æ ‡è¯†ç¬¦æ¥å¿«é€Ÿçš„åˆ‡æ¢ç¯å¢ƒ</p><p>idï¼šæŒ‡å®šå½“å‰ç¯å¢ƒçš„å”¯ä¸€æ ‡è¯†</p><p>transactionManagerã€å’ŒdataSourceéƒ½å¿…é¡»æœ‰</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
            <span class="token comment">&lt;!--                å–å‡ºé…ç½®æ–‡ä»¶ä¸­çš„å€¼ç”¨çš„æ˜¯${}çš„å½¢å¼--&gt;</span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªå°±å¾ˆå¥½ç†è§£äº†ï¼Œä¸€äº›ç¯å¢ƒå’Œé…ç½®ä¿¡æ¯~</p><h3 id="_3-7-datasource" tabindex="-1"><a class="header-anchor" href="#_3-7-datasource" aria-hidden="true">#</a> 3.7 dataSource</h3><p>æœ‰è¿™äº›ç±»å‹ï¼š UNPOOLED | POOLED | JNDI | è‡ªå®šä¹‰</p><ol><li>UNPOOLEDï¼šä¸ä½¿ç”¨è¿æ¥æ± ï¼ŒUnpooledDataSourceFactory</li><li>POOLEDï¼šä½¿ç”¨è¿æ¥æ± ï¼Œ PooledDataSourceFactory</li><li>JNDIï¼š åœ¨EJB æˆ–åº”ç”¨æœåŠ¡å™¨è¿™ç±»å®¹å™¨ä¸­æŸ¥æ‰¾æŒ‡å®šçš„æ•°æ®æº</li><li>è‡ªå®šä¹‰ï¼šå®ç°DataSourceFactoryæ¥å£ï¼Œå®šä¹‰æ•°æ®æºçš„è·å–æ–¹å¼ã€‚</li></ol><p>â€¢ å®é™…å¼€å‘ä¸­æˆ‘ä»¬ä½¿ç”¨Springç®¡ç†æ•°æ®æºï¼Œå¹¶è¿›è¡Œäº‹åŠ¡æ§åˆ¶çš„é…ç½®æ¥è¦†ç›–ä¸Šè¿°é…ç½®</p><h3 id="_3-8-mapperæ˜ å°„" tabindex="-1"><a class="header-anchor" href="#_3-8-mapperæ˜ å°„" aria-hidden="true">#</a> 3.8 mapperæ˜ å°„</h3><p>é‡å¤´æˆå®ƒæ¥äº†</p><p>æ—¢ç„¶ MyBatis çš„è¡Œä¸ºå·²ç»ç”±ä¸Šè¿°å…ƒç´ é…ç½®å®Œäº†ï¼Œæˆ‘ä»¬ç°åœ¨å°±è¦æ¥å®šä¹‰ SQL æ˜ å°„è¯­å¥äº†ã€‚ ä½†é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰ MyBatis åˆ°å“ªé‡Œå»æ‰¾åˆ°è¿™äº›è¯­å¥ã€‚ åœ¨è‡ªåŠ¨æŸ¥æ‰¾èµ„æºæ–¹é¢ï¼ŒJava å¹¶æ²¡æœ‰æä¾›ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥æœ€å¥½çš„åŠæ³•æ˜¯ç›´æ¥å‘Šè¯‰ MyBatis åˆ°å“ªé‡Œå»æ‰¾æ˜ å°„æ–‡ä»¶ã€‚</p><p>æˆ‘ä»¬é€šè¿‡åœ¨å…¨å±€é…ç½®æ–‡ä»¶è¿›è¡Œæ³¨å†Œ</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org/mybatis/builder/AuthorMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">url</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file:///var/mappers/AuthorMapper.xml<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.mybatis.builder.AuthorMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§æ–¹å¼æœ‰å¾…æé«˜ï¼Œæ¯”è¾ƒéº»çƒ¦å†™ä¸€ä¸ªæ³¨å†Œä¸€ä¸ªã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰¹é‡æ³¨å†Œï¼</p><p>â€¢ è¿™ç§æ–¹å¼è¦æ±‚SQLæ˜ å°„æ–‡ä»¶åå¿…é¡»å’Œæ¥å£åç›¸åŒå¹¶ä¸”åœ¨åŒä¸€ç›®å½•ä¸‹</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--    å°†æˆ‘ä»¬å†™å¥½çš„sqlæ˜ å°„æ–‡ä»¶ä¸€å®šè¦æ³¨å†Œåˆ°å…¨å±€é…ç½®æ–‡ä»¶ä¸­--&gt;</span>    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--        &lt;mapper resource=&quot;EmployeeMapper.xml&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--        &lt;mapper class=&quot;com.caq.mybatis.dao.EmployeeMapperAnnotation&quot;/&gt;--&gt;</span>
    <span class="token comment">&lt;!--        æ‰¹é‡æ³¨å†Œ--&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.dao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å››ã€mybatis-æ˜ å°„æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#å››ã€mybatis-æ˜ å°„æ–‡ä»¶" aria-hidden="true">#</a> å››ã€MyBatis-æ˜ å°„æ–‡ä»¶</h2><p>MyBatis çš„çœŸæ­£å¼ºå¤§åœ¨äºå®ƒçš„è¯­å¥æ˜ å°„ï¼Œè¿™æ˜¯å®ƒçš„é­”åŠ›æ‰€åœ¨</p><p>æ˜ å°„æ–‡ä»¶æŒ‡å¯¼ç€Mybatiså¦‚ä½•è¿›è¡Œæ•°æ®åº“CRUDï¼Œæœ‰ç€éå¸¸é‡è¦çš„æ„ä¹‰</p><blockquote><p>cache-å‘½åç©ºé—´çš„äºŒçº§ç¼“å­˜é…ç½®</p><p>cache-ref-å…¶ä»–å‘½åç©ºé—´ç¼“å­˜é…ç½®çš„å¼•ç”¨</p><p>resultMap-è‡ªå®šä¹‰ç»“æœé›†æ˜ å°„</p><p>sqlæŠ½å–å¯é‡ç”¨è¯­å¥å—</p><p>insert -æ˜ å°„æ’å…¥è¯­å¥</p><p>update-æ˜ å°„æ›´æ–°è¯­å¥</p><p>delete -æ˜ å°„åˆ é™¤è¯­å¥</p><p>select-æ˜ å°„æŸ¥è¯¢è¯­å¥</p></blockquote><p><strong>SQLæ˜ å°„æ–‡ä»¶ä¸€èˆ¬å‘½åä¸ºæ¥å£å+Mapper</strong></p><p>å¦‚EmployeeMapperã€EmployeeMapperproã€EmployeeMapperpromax</p><p>ä¸‹é¢æˆ‘ä»¬æ¥åˆ†åˆ«ä»‹ç»sqlæ˜ å°„æ–‡ä»¶ä¸­çš„è¿™äº›å…ƒç´ ~</p><h3 id="_4-1-å‚æ•°-parameters-ä¼ é€’" tabindex="-1"><a class="header-anchor" href="#_4-1-å‚æ•°-parameters-ä¼ é€’" aria-hidden="true">#</a> 4.1 å‚æ•°ï¼ˆParametersï¼‰ä¼ é€’</h3><blockquote><p>Mybatisè·å–å‚æ•°å€¼çš„ä¸¤ç§æ–¹å¼ï¼š${}å’Œ##{}</p><p>${}æœ¬è´¨å­—ç¬¦ä¸²æ‹¼æ¥ï¼ˆå¯èƒ½é€ æˆsqlæ³¨å…¥ï¼‰</p><p>{}æœ¬è´¨å ä½ç¬¦èµ‹å€¼</p></blockquote><p><strong>å•ä¸ªå‚æ•°</strong> å¯ä»¥æ¥å—åŸºæœ¬ç±»å‹,å¯¹è±¡ç±»å‹,é›†åˆç±»å‹çš„å€¼ã€‚è¿™ç§æƒ…å†µMyBatiså¯å€¼æ¥ä½¿ç”¨è¿™ä¸ªå‚æ•°ï¹ä¸éœ€è¦ç»è¿‡ä»»ä½•å¤„ç†ã€‚</p><p><strong>å¤šä¸ªå‚æ•°</strong> ä»»æ„å¤šä¸ªå‚æ•°ï¼Œéƒ½ä¼šè¢«MyBatisé‡æ–°åŒ…è£…æˆä¸€ä¸ªMapä¼ å…¥ã€‚Mapçš„keyæ˜¯param1 , param2 ,0ï¼Œ1...ï¼Œå€¼å°±æ˜¯å‚æ•°çš„å€¼ã€‚</p><p><strong>å‘½åå‚æ•°</strong><strong>ä¸ºå‚æ•°ä½¿ç”¨@Paramèµ·ä¸€ä¸ªåå­—ï¼ŒMyBatiså°±ä¼šå°†è¿™äº›å‚æ•°å°è£…è¿›mapä¸­, keyå°±æ˜¯æˆ‘ä»¬è‡ªå·±æŒ‡å®šçš„åå­—</strong></p><p><strong>POJO</strong> å½“è¿™äº›å‚æ•°å±äºæˆ‘ä»¬ä¸šåŠ¡POJOæ—¶ï¼Œæˆ‘ä»¬ç›´æ¥ä¼ é€’POJO</p><p><strong>Map</strong> æˆ‘ä»¬ä¹Ÿå¯ä»¥å°è£…å¤šä¸ªå‚æ•°ä¸ºmap ,ç›´æ¥ä¼ é€’</p><h3 id="_4-2-å‚æ•°å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_4-2-å‚æ•°å¤„ç†" aria-hidden="true">#</a> 4.2 å‚æ•°å¤„ç†</h3><p>å‚æ•°ä½ç½®æ”¯æŒçš„å±æ€§</p><p>javaTypeã€jdbcTypeã€modeã€numericScaleã€resultMapã€typeHandlerã€jdbcTypeName</p><p>å®é™…ä¸Šé€šå¸¸è¢«è®¾ç½®çš„æ˜¯âˆ¶</p><p>â€‹ å¯èƒ½ä¸ºç©ºçš„åˆ—åæŒ‡å®šjdbcType</p><p><strong>##{key}:è·å–å‚æ•°çš„å€¼ï¼Œé¢„ç¼–è¯‘åˆ°SQLä¸­ã€‚å®‰å…¨ã€‚</strong></p><p name="">${key}:è·å–å‚æ•°çš„å€¼ï¼Œæ‹¼æ¥åˆ°SQLä¸­ã€‚æœ‰SQLæ³¨å…¥é—®é¢˜ã€‚ORDER BY $</p><p><strong>ä¸€èˆ¬é€‰æ‹©##{key}çš„æ–¹å¼æ¥è·å–å‚æ•°çš„å€¼</strong></p><h3 id="_4-3-å¢åˆ æ”¹æŸ¥å…ƒç´ " tabindex="-1"><a class="header-anchor" href="#_4-3-å¢åˆ æ”¹æŸ¥å…ƒç´ " aria-hidden="true">#</a> 4.3 å¢åˆ æ”¹æŸ¥å…ƒç´ </h3><p><strong>Selectå…ƒç´ æ¥å®šä¹‰æŸ¥è¯¢æ“ä½œã€‚</strong></p><p><strong>ld:å”¯ä¸€æ ‡è¯†ç¬¦ã€‚</strong></p><p>â€‹ ç”¨æ¥å¼•ç”¨è¿™æ¡è¯­å¥ï¼Œéœ€è¦å’Œæ¥å£çš„æ–¹æ³•åä¸€è‡´</p><p><strong>parameterType :å‚æ•°ç±»å‹ã€‚</strong></p><p>â€‹ å¯ä»¥ä¸ä¼ ï¼ŒMyBatisä¼šæ ¹æ®TypeHandlerè‡ªåŠ¨æ¨æ–­</p><p><strong>resultType:è¿”å›å€¼ç±»å‹ã€‚</strong></p><p>â€‹ åˆ«åæˆ–è€…å…¨ç±»åï¹å¦‚æœè¿”å›çš„æ˜¯é›†åˆï¹å®šä¹‰é›†åˆä¸­å…ƒç´ çš„ç±»å‹ã€‚ä¸èƒ½å’ŒresultMapåŒæ—¶ä½¿ç”¨</p><p>resultMapï¼šè‡ªå®šä¹‰è¿”å›å€¼ç±»å‹</p><p>â€‹ å¤–éƒ¨resultMapçš„å‘½åå¼•ç”¨ã€‚å’ŒresultTypeå±æ€§ä¸èƒ½åŒæ—¶ä½¿ç”¨</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tbl_employee    where id = ##{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>insert, update å’Œ deleteå’Œä¸Šè¿°æŸ¥è¯¢å…¶å®æŸ¥ä¸åˆ°å“ªé‡Œå»å•¦ï¼Œå·®ä¸å¤šéƒ½ä¸€æ ·çš„å•¦~</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>insert<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    insert into tbl_employee(last_name,email,gender) values(##{lastName},##{email},##{gender})
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateEmp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    update tbl_employee    set last_name=##{lastName},email=##{email},gender=##{gender} where id = ##{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>deleteEmpById<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    delete from tbl_employee where id = ##{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸éš¾ï¼Œä¸»è¦æ˜¯æˆ‘ä»¬sqlè¯­å¥çš„ä¹¦å†™</p><p>è¦æ³¨æ„çš„ç‚¹æ˜¯ï¼Œåˆ é™¤ä¿®æ”¹æ•°æ®åº“ä¸­çš„å­—æ®µï¼Œæˆ‘ä»¬ä¼ çš„å‚æ•°éƒ½æ˜¯ä¸€ä¸ªjavabeanå¯¹è±¡</p><p><strong>å¦‚æœæ•°æˆ‘ä»¬æŸ¥çš„æ•°æ®ä¸­ä¸åªæœ‰å±æ€§è¿˜æœ‰ä¸ªå¯¹è±¡æ”¹æ€ä¹ˆæŸ¥å‘¢ï¼Ÿ</strong></p><p>æˆ‘ä»¬å¯ä»¥æƒ³è±¡å¦‚ä¸‹åœºæ™¯ï¼š</p><p>æŸ¥è¯¢Employeeçš„åŒæ—¶æŸ¥è¯¢å‘˜å·¥å¯¹åº”çš„éƒ¨é—¨ åœºæ™¯ä¸€ï¼š æŸ¥è¯¢Employeeçš„åŒæ—¶æŸ¥è¯¢å‘˜å·¥å¯¹åº”çš„éƒ¨é—¨ Employee===Department ä¸€ä¸ªå‘˜å·¥æœ‰ä¸ä¹‹å¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯ï¼›</p><p><strong>è”åˆæŸ¥è¯¢ï¼šçº§è”å±å‹å°è£…ç»“æœé›†</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyEmpPlus<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept.departmentName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpAndDept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyEmpPlus<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    SELECT e.id id,e.last_name last_name,e.gender gender,e.d_id d_id,d.id did,d.dept_name dept_name
    FROM tbl_employee e,tbl_dept d
    where e.d_id = d.id
    and e.id = 1
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°æ–¹å¼çš„ç¡®å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜</p><p>ä½†æ˜¯ä½ çœ‹å®ƒæ˜¯ä¸æ˜¯å†™çš„å¤ªéº»çƒ¦äº†å•Šï¼Œé‚£æœ‰æ²¡æœ‰ç®€å•çš„æ–¹æ³•æŸ¥è¯¢å‘¢ï¼Ÿ</p><p>associationå¯ä»¥æŒ‡å®šè”åˆçš„javaBeanå¯¹è±¡ æŒ‡å®šå“ªä¸ªå±å‹æ˜¯è”åˆçš„å¯¹è±¡ javaTypeæŒ‡å®šå±å‹å¯¹è±¡çš„ç±»å‹ã€ä¸èƒ½çœç•¥ã€‘ ä½¿ç”¨associationå®šä¹‰å…³è”çš„å•ä¸ªå¯¹è±¡çš„å°è£…è§„åˆ™</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyEmpByStep<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--        å…ˆæŒ‰ç…§å‘˜å·¥idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯--&gt;</span>
    <span class="token comment">&lt;!--        æ ¹æ®æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ä¸­çš„d_idå€¼å»æŸ¥éƒ¨é—¨æŸ¥å¤„éƒ¨é—¨ä¿¡æ¯--&gt;</span> 
    <span class="token comment">&lt;!--        éƒ¨é—¨è®¾ç½®åˆ°å‘˜å·¥ä¸­--&gt;</span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
    <span class="token comment">&lt;!--        associationæ¥å®šä¹‰å…³è”å¯¹è±¡çš„å°è£…è§„åˆ™            selectè¡¨æ˜å½“å‰å±æ€§æ˜¯è°ƒç”¨sekectæŒ‡å®šçš„æ–¹æ³•æŸ¥å‡ºçš„ç»“æœ            æµç¨‹:ä½¿ç”¨selectæŒ‡å®šçš„æ–¹æ³•ï¼ˆä¼ å…¥columnæŒ‡å®šçš„è¿™åˆ—å‚æ•°çš„å€¼ï¼‰æŸ¥å‡ºå¯¹è±¡ï¼Œå¹¶å°è£…ç»™propertyæŒ‡å®šçš„å±æ€§--&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept<span class="token punctuation">&quot;</span></span><span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.dao.DepartmentMapper.getDeptById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>d_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpByIdStep<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyEmpByStep<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
    select * from tbl_employee where id = ##{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>selectï¼šè°ƒç”¨ç›®æ ‡çš„æ–¹æ³•æŸ¥è¯¢å½“å‰å±æ€§çš„å€¼</p><p>columnï¼šå°†æŒ‡å®šåˆ—çš„å€¼ä¼ å…¥ç›®æ ‡æ–¹æ³•</p></blockquote><p>æ²¡é”™æˆ‘ä»¬å¯ä»¥ç”¨associationæ¥è¿›è¡ŒæŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯åˆ†å¸ƒæŸ¥è¯¢ã€‚</p><ol><li>å…ˆæŒ‰ç…§å‘˜å·¥idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯</li><li>æ ¹æ®æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ä¸­çš„d_idå€¼å»æŸ¥éƒ¨é—¨æŸ¥å¤„éƒ¨é—¨ä¿¡æ¯</li><li>éƒ¨é—¨è®¾ç½®åˆ°å‘˜å·¥ä¸­</li></ol><p>ä»è¿™é‡Œå°±èƒ½çœ‹å‡ºMybatisçš„çµæ´»ï¼Œå¤„ç†ä¸€äº›å¾ˆå¤æ‚çš„æŸ¥è¯¢çš„æ—¶å€™associationèƒ½å¸®æˆ‘ä»¬è§£å†³å¤´ç—›çš„é—®é¢˜</p><h3 id="_4-4-sql" tabindex="-1"><a class="header-anchor" href="#_4-4-sql" aria-hidden="true">#</a> 4.4 SQL</h3><p>è¿™ä¸ªå…ƒç´ å¯ä»¥ç”¨æ¥å®šä¹‰å¯é‡ç”¨çš„ SQL ä»£ç ç‰‡æ®µï¼Œä»¥ä¾¿åœ¨å…¶å®ƒè¯­å¥ä¸­ä½¿ç”¨ã€‚ å‚æ•°å¯ä»¥é™æ€åœ°ï¼ˆåœ¨åŠ è½½çš„æ—¶å€™ï¼‰ç¡®å®šä¸‹æ¥ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä¸åŒçš„ include å…ƒç´ ä¸­å®šä¹‰ä¸åŒçš„å‚æ•°å€¼ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userColumns<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ${alias}.id,${alias}.username,${alias}.password <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectUsers<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userColumns<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alias<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t1<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>,   
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userColumns<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alias<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>t2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
    from some_table t1 cross join some_table t2
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¸€èˆ¬æˆ‘ä»¬ä¼šæŠŠé‡å¤çš„sqlå­—æ®µæå–å‡ºä¸€ä¸ªsqlï¼Œç„¶åä¸åŒçš„è¯­å¥ç”¨è¿™ä¸ªsqlå­—æ®µçš„æ—¶å€™æˆ‘ä»¬è°ƒè¿™ä¸ªæå–å‡ºæ¥çš„sqlå³å¯</strong></p><h3 id="_4-5-è‡ªåŠ¨æ˜ å°„" tabindex="-1"><a class="header-anchor" href="#_4-5-è‡ªåŠ¨æ˜ å°„" aria-hidden="true">#</a> 4.5 è‡ªåŠ¨æ˜ å°„</h3><p><strong>å…¨å±€settingè®¾ç½®</strong></p><p><mark>autoMappingBehavioré»˜è®¤æ˜¯PARTIAL</mark>ï¼Œå¼€å¯è‡ªåŠ¨æ˜ å°„çš„åŠŸèƒ½ã€‚å”¯ä¸€çš„è¦æ±‚æ˜¯åˆ—åå’ŒjavaBeanå±æ€§åä¸€è‡´â€•å¦‚æœautoMappingBehaviorè®¾ç½®ä¸ºnullåˆ™ä¼šå–æ¶ˆè‡ªåŠ¨æ˜ å°„ä¸€æ•°æ®åº“å­—æ®µå‘½åè§„èŒƒï¼ŒPOJOå±æ€§ç¬¦åˆé©¼å³°å‘½åæ³•ï¼Œå¦‚A_COLUMNâ†’&gt;aColumn ,æˆ‘ä»¬å¯ä»¥<mark>å¼€å¯è‡ªåŠ¨é©¼å³°å‘½åè§„åˆ™æ˜ å°„åŠŸèƒ½,mapUnderscoreToCamelCase=true</mark></p><p><strong>è‡ªå®šä¹‰resultMap ï¼Œå®ç°é«˜çº§ç»“æœé›†æ˜ å°„ã€‚</strong></p><h3 id="_4-6-resultmap" tabindex="-1"><a class="header-anchor" href="#_4-6-resultmap" aria-hidden="true">#</a> 4.6 resultMap</h3><p><mark>ä¸€äº›å‚æ•°çš„ä»‹ç»</mark></p><ul><li><p>constructor -ç±»åœ¨å®ä¾‹åŒ–æ—¶,ç”¨æ¥æ³¨å…¥ç»“æœåˆ°æ„é€ æ–¹æ³•ä¸­</p></li><li><p>id ä¸€ä¸ªIDç»“æœ;æ ‡è®°ç»“æœä½œä¸ºIDå¯ä»¥å¸®åŠ©æé«˜æ•´ä½“æ•ˆèƒ½</p></li><li><p>resultä¸€æ³¨å…¥åˆ°å­—æ®µæˆ–JavaBeanå±æ€§çš„æ™®é€šç»“æœ</p></li><li><p><strong>association</strong> ä¸€ä¸ªå¤æ‚çš„ç±»å‹å…³è”;è®¸å¤šç»“æœå°†åŒ…æˆè¿™ç§ç±»å‹</p><p>â€‹ åµŒå…¥ç»“æœæ˜ å°„</p><p>â€‹ ç»“æœæ˜ å°„è‡ªèº«çš„å…³è”,æˆ–è€…å‚è€ƒä¸€ä¸ª</p></li><li><p><strong>collection</strong> å¤æ‚ç±»å‹çš„é›†</p><p>â€‹ åµŒå…¥ç»“æœæ˜ å°„ ç»“æœæ˜ å°„è‡ªèº«çš„é›†,æˆ–è€…å‚è€ƒä¸€ä¸ª</p></li></ul><p>discriminator ä½¿ç”¨ç»“æœå€¼æ¥å†³å®šä½¿ç”¨å“ªä¸ªç»“æœæ˜ å°„</p><p>â€‹ case-åŸºäºæŸäº›å€¼çš„ç»“æœæ˜ å°„ â€‹ åµŒå…¥ç»“æœæ˜ å°„-è¿™ç§æƒ…å½¢ç»“æœä¹Ÿæ˜ å°„å®ƒæœ¬èº«,å› æ­¤å¯ä»¥åŒ…å«å¾ˆå¤šç›¸åŒçš„å…ƒç´ ,æˆ–è€…å®ƒå¯ä»¥å‚ç…§ä¸ªå¤–éƒ¨çš„ç»“æœæ˜ å°„ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyEmp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
       <span class="token comment">&lt;!--            æŒ‡å®šä¸»é”®åˆ—çš„å°è£…è§„åˆ™ï¼š            idå®šä¹‰ä¸»é”®åˆ—çš„è¯åº•å±‚ä¼šæœ‰ä¼˜åŒ–            columnæŒ‡å®šå“ªä¸€åˆ—            propertyæŒ‡å®šå¯¹åº”çš„javaBeanå±æ€§--&gt;</span>        
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
       <span class="token comment">&lt;!--        resultå®šä¹‰æ™®é€šåˆ—å°è£…è§„åˆ™--&gt;</span> 
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
       <span class="token comment">&lt;!--        å…¶ä»–ä¸æŒ‡å®šçš„åˆ—ä¼šè‡ªåŠ¨å°è£…,ä¸è¿‡æˆ‘ä»¬æ—¢ç„¶è‡ªå®šä¹‰äº†é‚£å°±æŠŠå­—æ®µéƒ½å†™ä¸Š--&gt;</span>  
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>    
<span class="token comment">&lt;!--        idå°±æ˜¯æ–¹æ³•å--&gt;</span>
<span class="token comment">&lt;!--    &lt;select id=&quot;getEmpById&quot; resultType=&quot;emp&quot;&gt;--&gt;</span>
<span class="token comment">&lt;!--        select *--&gt;</span>
<span class="token comment">&lt;!--        from mybatis.tbl_employee--&gt;</span>
<span class="token comment">&lt;!--        where id = ##{id};--&gt;</span>
<span class="token comment">&lt;!--    &lt;/select&gt;--&gt;</span>    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyEmp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>  
    select * from tbl_employee where id = ##{id}; 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-7-é‰´åˆ«å™¨" tabindex="-1"><a class="header-anchor" href="#_4-7-é‰´åˆ«å™¨" aria-hidden="true">#</a> 4.7 é‰´åˆ«å™¨</h3><p>æœ‰æ—¶å€™ï¼Œä¸€ä¸ªæ•°æ®åº“æŸ¥è¯¢å¯èƒ½ä¼šè¿”å›å¤šä¸ªä¸åŒçš„ç»“æœé›†ï¼ˆä½†æ€»ä½“ä¸Šè¿˜æ˜¯æœ‰ä¸€å®šçš„è”ç³»çš„ï¼‰ã€‚ é‰´åˆ«å™¨ï¼ˆdiscriminatorï¼‰å…ƒç´ å°±æ˜¯è¢«è®¾è®¡æ¥åº”å¯¹è¿™ç§æƒ…å†µçš„ï¼Œå¦å¤–ä¹Ÿèƒ½å¤„ç†å…¶å®ƒæƒ…å†µï¼Œä¾‹å¦‚ç±»çš„ç»§æ‰¿å±‚æ¬¡ç»“æ„ã€‚ é‰´åˆ«å™¨çš„æ¦‚å¿µå¾ˆå¥½ç†è§£â€”â€”å®ƒå¾ˆåƒ Java è¯­è¨€ä¸­çš„ switch è¯­å¥ã€‚</p><blockquote><p>columnæŒ‡å®šåˆ¤å®šçš„åˆ—åï¼ŒjavaTypeåˆ—å€¼å¯¹åº”çš„javaç±»å‹</p><p>ç”·ç”Ÿ,å¦‚æœæ˜¯ç”·ç”Ÿï¼ŒæŠŠlast_nameè¿™ä¸€åˆ—çš„å€¼èµ‹ç»™emailï¼Œå¥³ç”Ÿåˆ™æŸ¥è¯¢å‡ºæ‰€åœ¨éƒ¨é—¨ä¿¡æ¯</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyEmpDis<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--        columnæŒ‡å®šåˆ¤å®šçš„åˆ—åï¼ŒjavaTypeåˆ—å€¼å¯¹åº”çš„javaç±»å‹--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>discriminator</span> <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>string<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--            å¥³ç”Ÿ--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>case</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dept<span class="token punctuation">&quot;</span></span>
                         <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.dao.DepartmentMapper.getDeptById<span class="token punctuation">&quot;</span></span>
                         <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>d_id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>case</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--            ç”·ç”Ÿ,å¦‚æœæ˜¯ç”·ç”Ÿï¼ŒæŠŠlast_nameè¿™ä¸€åˆ—çš„å€¼èµ‹ç»™email--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>case</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>case</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>discriminator</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpByIdStep<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyEmpDis<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    SELECT * FROM tbl_employee WHERE id = ##{id};
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªå¾ˆå¥½ç†è§£çš„ï¼Œæˆ‘è¿˜æ˜¯æŠŠæµ‹è¯•ç»“æœå†™å‡ºæ¥</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//    æ ¹æ®idåˆ†å¸ƒæŸ¥å‘˜å·¥ä¿¡æ¯</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token function">getSqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SqlSession</span> openSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">EmployeeMapperPlus</span> mapper <span class="token operator">=</span> openSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapperPlus</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token class-name">Employee</span> empByIdStep <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpByIdStep</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>empByIdStep<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>empByIdStep<span class="token punctuation">.</span><span class="token function">getDept</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        openSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æˆ‘ä»¬æŸ¥è¯¢idä¸º4çš„å‘˜å·¥ï¼Œæ ¹æ®æˆ‘ä»¬å‰é¢å†™çš„sqlæ˜ å°„æ–‡ä»¶ï¼Œå¦‚æœå®ƒçš„æ€§åˆ«æ˜¯ç”·åˆ™ä»–çš„é‚®ä»¶åœ°å€å°±æ˜¯å®ƒçš„å§“åï¼Œå¦‚æœä»–çš„æ€§åˆ«æ˜¯å¥³é‚£ä¹ˆå°±èƒ½æ‰“å°å‡ºå¥¹çš„éƒ¨é—¨ä¿¡æ¯ï¼ˆæŸ¥éƒ¨é—¨ä¿¡æ¯åˆæ˜¯ä¸€ä¸ªæ–°çš„å¯¹è±¡æˆ‘ä»¬ç”¨çš„associationåˆ†æ­¥æŸ¥è¯¢ï¼‰</strong></p><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220126215438773.png" alt="image-20220126215438773" tabindex="0" loading="lazy"><figcaption>image-20220126215438773</figcaption></figure><p>æ˜¾ç¤ºç»“æœåˆ†åˆ«å¦‚ä¸‹ï¼š</p><p>Employee{id=4, lastName=&#39;jerry2&#39;, email=&#39;jerry2&#39;, gender=&#39;1&#39;} null</p><p id="1," departmentName="&#39;å¼€å‘&#39;">Employee{id=1, lastName=&#39;tom&#39;, email=&#39;tom@caq.com&#39;, gender=&#39;0&#39;} Department</p><h2 id="äº”ã€mybatis-åŠ¨æ€sql" tabindex="-1"><a class="header-anchor" href="#äº”ã€mybatis-åŠ¨æ€sql" aria-hidden="true">#</a> äº”ã€MyBatis-åŠ¨æ€SQL</h2><p>åŠ¨æ€SQLæ˜¯MyBatiså¼ºå¤§ç‰¹æ€§ä¹‹ä¸€ã€‚æå¤§çš„ç®€åŒ–æˆ‘ä»¬æ‹¼è£…SQLçš„æ“ä½œï¼Œä¾‹å¦‚æ‹¼æ¥æ—¶è¦ç¡®ä¿ä¸èƒ½å¿˜è®°æ·»åŠ å¿…è¦çš„ç©ºæ ¼ï¼Œè¿˜è¦æ³¨æ„å»æ‰åˆ—è¡¨æœ€åä¸€ä¸ªåˆ—åçš„é€—å·ã€‚åˆ©ç”¨åŠ¨æ€ SQLï¼Œå¯ä»¥å½»åº•æ‘†è„±è¿™ç§ç—›è‹¦ã€‚ã€‚åŠ¨æ€SQLå…ƒç´ å’Œä½¿ç”¨JSTLæˆ–å…¶ä»–ç±»ä¼¼åŸºäºXMLçš„æ–‡æœ¬å¤„ç†å™¨ç›¸ä¼¼ã€‚MyBatisé‡‡ç”¨åŠŸèƒ½å¼ºå¤§çš„åŸºäºOGNLçš„è¡¨è¾¾å¼æ¥ç®€åŒ–æ“ä½œã€‚</p><ul><li><p>if</p></li><li><p>choose (when, otherwise)</p></li><li><p>trim (where,set)</p></li><li><p>foreach</p></li></ul><h3 id="_5-1-if" tabindex="-1"><a class="header-anchor" href="#_5-1-if" aria-hidden="true">#</a> 5.1 if</h3><p>ä½¿ç”¨åŠ¨æ€ SQL æœ€å¸¸è§æƒ…æ™¯æ˜¯æ ¹æ®æ¡ä»¶åŒ…å« where å­å¥çš„ä¸€éƒ¨åˆ†ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬æœ‰å¾ˆå¤šå­—æ®µï¼Œé‚£æˆ‘ä»¬å†™æ¡ä»¶çš„æ—¶å€™è¦åœ¨whereåé¢å†™å¾ˆé•¿çš„åˆ¤æ–­æ¡ä»¶ï¼Œé‚£ä¹ˆæœ‰äº†ifæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®ifåˆ¤æ–­æ¡ä»¶ã€‚å¦‚æœæ¡ä»¶æˆç«‹åˆ™æ·»åŠ ä¸æ·»åŠ ã€‚</p><p><strong>é‡è§ç‰¹æ®Šç¬¦å·å…¶å®å¯ä»¥å†™è½¬ä¹‰å­—ç¬¦</strong></p><p><strong><a href="https://www.w3school.com.cn/html/html_entities.asp" target="_blank" rel="noopener noreferrer">HTML å­—ç¬¦å®ä½“ (w3school.com.cn)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></strong></p><p><strong>æˆ‘ä»¬å¯ä»¥å»è¿™é‡Œå¯»æ‰¾ç‰¹æ®Šç¬¦å·å¯¹åº”çš„è½¬ä¹‰å­—ç¬¦ï¼</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpByConditionIf<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select *
    from tbl_employee
    where
    <span class="token comment">&lt;!-- testï¼šåˆ¤å®šè¡¨è¾¾å¼ï¼ˆOGNLï¼‰
    OGNLå‚ç…§PPTæˆ–å®˜æ–¹æ–‡æ¡£
    ä»å‚æ•°ä¸­å–å€¼è¿›è¡Œåˆ¤æ–­
    é‡è§ç‰¹æ®Šç¬¦å·å…¶å®å¯ä»¥å†™è½¬ä¹‰å­—ç¬¦
    --&gt;</span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        id=##{id}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName!=null <span class="token entity named-entity" title="&amp;">&amp;amp;</span><span class="token entity named-entity" title="&amp;">&amp;amp;</span> lastName != <span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        and last_name like ##{lastName}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email!=null and email.trim() != <span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        and email =##{email}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    ## ognlä¼šè¿›è¡Œå­—ç¬¦ä¸²ä¸æ•°å­—çš„è½¬æ¢åˆ¤æ–­
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender==0 or gender==1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        and gender=##{gender}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-chooseã€whenã€otherwise" tabindex="-1"><a class="header-anchor" href="#_5-2-chooseã€whenã€otherwise" aria-hidden="true">#</a> 5.2 chooseã€whenã€otherwise</h3><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpByConditionChoose<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select *
    from tbl_employee
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
        ## å¦‚æœå¸¦äº†idå°±ç”¨idæŸ¥ï¼Œå¦‚æœå¸¦äº†lastNameå°±ç”¨lastNameæŸ¥ï¼Œåªä¼šè¿›å…¥å…¶ä¸­ä¸€ä¸ª
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                id = ##{id}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                last_name like ##{lastName}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                email = ##{email}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>otherwise</span><span class="token punctuation">&gt;</span></span>
                gender = 0
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>otherwise</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢æˆ‘ä»¬çœ‹æµ‹è¯•æ–‡ä»¶çš„ç»“æœ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//    æµ‹è¯•è‡ªå®šä¹‰å­—ç¬¦ä¸²æˆªå–</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> test07 <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token function">getSqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SqlSession</span> openSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">EmployeeMapperDynamicSQL</span> mapper <span class="token operator">=</span> openSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapperDynamicSQL</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Employee</span> employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpByConditionChoose</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Employee</span> employee1 <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>employee1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        openSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬ä»€ä¹ˆå‚æ•°ä¹Ÿæ²¡ä¼ å…¥ï¼Œæ‰€ä»¥å¥¹å°±ä¼šæŒ‰ç…§é»˜è®¤çš„æ¥æŸ¥ã€‚å°±æ˜¯gender=0çš„æƒ…å†µ</p><p>æ‰€ä»¥ä¼šå‡ºç°å¦‚ä¸‹ç»“æœï¼š</p><blockquote id="7," lastName="&#39;Rose&#39;," email="&#39;Rose@qq.com&#39;," gender="&#39;0&#39;"><p>Employee{id=1, lastName=&#39;tom&#39;, email=&#39;tom@caq.com&#39;, gender=&#39;0&#39;} Employee{id=6, lastName=&#39;tom&#39;, email=&#39;tom@qq.com&#39;, gender=&#39;0&#39;} Employee</p></blockquote><h3 id="_5-3-trimã€whereã€set" tabindex="-1"><a class="header-anchor" href="#_5-3-trimã€whereã€set" aria-hidden="true">#</a> 5.3 trimã€whereã€set</h3><blockquote><p>prefix=&quot;&quot;:å‰ç¼€ï¼štrimæ ‡ç­¾ä½“ä¸­æ˜¯æ•´ä¸ªå­—ç¬¦ä¸²æ‹¼ä¸²åçš„ç»“æœ</p><p>prefixOverrides=&quot;&quot;:</p><p>å‰ç¼€è¦†ç›–ï¼šå»æ‰æ•´ä¸ªå­—ç¬¦ä¸²å‰é¢å¤šä½™çš„å­—ç¬¦</p><p>suffix=&quot;&quot;:åç¼€</p><p>suffixç»™æ‹¼ä¸²åçš„æ•´ä¸ªå­—ç¬¦ä¸²åŠ ä¸Šä¸€ä¸ªåç¼€</p><p>suffixOverrides=&quot;&quot;</p><p>åç¼€è¦†ç›–ï¼šå»æ‰æ•´ä¸ªå­—ç¬¦ä¸²åé¢å¤šä½™çš„å­—ç¬¦</p><p><em>set</em> å…ƒç´ å¯ä»¥ç”¨äºåŠ¨æ€åŒ…å«éœ€è¦æ›´æ–°çš„åˆ—ï¼Œå¿½ç•¥å…¶å®ƒä¸æ›´æ–°çš„åˆ—ã€‚</p></blockquote><p>æŠŠæˆ‘ä»¬å®¹æ˜“å¤šå†™å°‘å†™çš„andå»æ‰æˆ–è€…è‡ªåŠ¨é€šè¿‡å…³é”®å­—åŠ ä¸Šï¼ŒçœŸæ˜¯å¥½ç”¨å‘¢ï¼</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmpByConditionTrim<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.bean.Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    select * from tbl_employee
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>trim</span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>where<span class="token punctuation">&quot;</span></span> <span class="token attr-name">suffixOverrides</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>and<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            id=##{id}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName!=null <span class="token entity named-entity" title="&amp;">&amp;amp;</span><span class="token entity named-entity" title="&amp;">&amp;amp;</span> lastName != <span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            last_name like ##{lastName} and
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email!=null and email.trim() != <span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            email =##{email} and
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender==0 or gender==1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            gender=##{gender} and
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>trim</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-4-foreach" tabindex="-1"><a class="header-anchor" href="#_5-4-foreach" aria-hidden="true">#</a> 5.4 foreach</h3><p><em>foreach</em> å…ƒç´ çš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå®ƒå…è®¸ä½ æŒ‡å®šä¸€ä¸ªé›†åˆï¼Œå£°æ˜å¯ä»¥åœ¨å…ƒç´ ä½“å†…ä½¿ç”¨çš„é›†åˆé¡¹ï¼ˆitemï¼‰å’Œç´¢å¼•ï¼ˆindexï¼‰å˜é‡ã€‚å®ƒä¹Ÿå…è®¸ä½ æŒ‡å®šå¼€å¤´ä¸ç»“å°¾çš„å­—ç¬¦ä¸²ä»¥åŠé›†åˆé¡¹è¿­ä»£ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚è¿™ä¸ªå…ƒç´ ä¹Ÿä¸ä¼šé”™è¯¯åœ°æ·»åŠ å¤šä½™çš„åˆ†éš”ç¬¦</p><p>ä½ å¯ä»¥å°†ä»»ä½•å¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚ Listã€Set ç­‰ï¼‰ã€Map å¯¹è±¡æˆ–è€…æ•°ç»„å¯¹è±¡ä½œä¸ºé›†åˆå‚æ•°ä¼ é€’ç»™ <em>foreach</em>ã€‚å½“ä½¿ç”¨å¯è¿­ä»£å¯¹è±¡æˆ–è€…æ•°ç»„æ—¶ï¼Œindex æ˜¯å½“å‰è¿­ä»£çš„åºå·ï¼Œitem çš„å€¼æ˜¯æœ¬æ¬¡è¿­ä»£è·å–åˆ°çš„å…ƒç´ ã€‚å½“ä½¿ç”¨ Map å¯¹è±¡ï¼ˆæˆ–è€… Map.Entry å¯¹è±¡çš„é›†åˆï¼‰æ—¶ï¼Œindex æ˜¯é”®ï¼Œitem æ˜¯å€¼ã€‚</p><p><strong>æœ‰ä¸ªé”™è¯¯ä¸€å®šè¦è®°å¾—ï¼Œsqlè¯­å¥åœ¨navicaté‡Œå†™æˆ–è€…åˆ«çš„sqlå·¥å…·ã€‚</strong></p><p><strong>ä¸ç„¶åœ¨ideaå†™é”™ä¸ªæ ‡ç‚¹è¦æ’æŸ¥åŠå¤©æäººå¿ƒæ€</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addEmps<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    insert into
    tbl_employee(last_name,email,gender,d_id)
    values
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emps<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emp<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        (##{emp.lastName},##{emp.email},##{emp.gender},##{emp.dept.id})
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> test08 <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token function">getSqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSession</span> openSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">EmployeeMapperDynamicSQL</span> mapper <span class="token operator">=</span> openSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapperDynamicSQL</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> emps <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            emps<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token string">&quot;tim&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;tim@qq.com&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Department</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            emps<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token string">&quot;apple&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;apple@163.com.com&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Department</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mapper<span class="token punctuation">.</span><span class="token function">addEmps</span><span class="token punctuation">(</span>emps<span class="token punctuation">)</span><span class="token punctuation">;</span>
            openSession<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Successï¼ï¼ï¼&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            openSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220127000540840.png" alt="image-20220127000540840" tabindex="0" loading="lazy"><figcaption>image-20220127000540840</figcaption></figure><p>æ·»åŠ æˆåŠŸå•¦~~~</p><h3 id="_5-5-bind" tabindex="-1"><a class="header-anchor" href="#_5-5-bind" aria-hidden="true">#</a> 5.5 bind</h3><p>bindå…ƒç´ å¯ä»¥ä»OGNLè¡¨è¾¾å¼ä¸­åˆ›å»ºä¸€ä¸ªå˜é‡å¹¶å°†å…¶ç»‘å®šåˆ°ä¸Šä¸‹æ–‡ã€‚</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;!--    List&lt;Employee&gt; getEmpsTestInnerParameter(Employee employee);--&gt;
&lt;select id=&quot;getEmpsTestInnerParameter&quot; resultType=&quot;com.caq.mybatis.bean.Employee&quot;&gt;
    ## å¯ä»¥å°†OGNLè¡¨è¾¾å¼çš„å€¼ç»‘å®šåˆ°ä¸€ä¸ªå˜é‡ä¸­ï¼Œæ–¹ä¾¿åæ¥å¼•ç”¨è¿™ä¸ªå˜é‡çš„å€¼
    &lt;bind name=&quot;_testBind&quot; value=&quot;&#39;_&#39;+lastName+&#39;%&#39;&quot;/&gt;
    select * from tbl_employee where last_name like ##{_testBind}
&lt;/select&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> test09 <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token function">getSqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SqlSession</span> openSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">EmployeeMapperDynamicSQL</span> mapper <span class="token operator">=</span> openSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapperDynamicSQL</span> <span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Employee</span> employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        employee<span class="token punctuation">.</span><span class="token function">setLastName</span><span class="token punctuation">(</span><span class="token string">&quot;%e%&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpsTestInnerParameter</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Employee</span> employee1 <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>employee1<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        openSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•ç»“æœå¦‚ä¸‹</p><p id="8," lastName="&#39;jerry2&#39;," email="&#39;jerry2@qq.com&#39;," gender="&#39;1&#39;">Employee{id=3, lastName=&#39;jerry1&#39;, email=&#39;jerry1@qq.com&#39;, gender=&#39;1&#39;} Employee{id=4, lastName=&#39;jerry2&#39;, email=&#39;jerry2@qq.com&#39;, gender=&#39;1&#39;} Employee{id=5, lastName=&#39;jerry3&#39;, email=&#39;jerry3@qq.com&#39;, gender=&#39;1&#39;} Employee</p><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220127005050972.png" alt="image-20220127005050972" tabindex="0" loading="lazy"><figcaption>image-20220127005050972</figcaption></figure><h3 id="_5-6-å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#_5-6-å®ä¾‹" aria-hidden="true">#</a> 5.6 å®ä¾‹</h3><p>æ•°æ®åº“è¡¨ç»“æ„å¦‚ä¸‹ï¼š</p><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220227170611769.png" alt="image-20220227170611769" tabindex="0" loading="lazy"><figcaption>image-20220227170611769</figcaption></figure><p>mybatis-configæ–‡ä»¶ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dbconfig.properties<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapUnderscoreToCamelCase<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cacheEnabled<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>useGeneratedKeys<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>defaultExecutorType<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>REUSE<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logImpl<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT_LOGGING<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POOLED<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token comment">&lt;!--                å–å‡ºé…ç½®æ–‡ä»¶ä¸­çš„å€¼ç”¨çš„æ˜¯${}çš„å½¢å¼--&gt;</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.username}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>package</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.jdbc.mapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>BrandMapperçš„æ¥å£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectByCondition</span><span class="token punctuation">(</span><span class="token class-name">Map</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>BrandMapperçš„sqlæ˜ å°„æ–‡ä»¶ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.jdbc.mapper.BrandMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectByCondition<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.jdbc.pojo.Brand<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select *
        from tb_brand
        -- where 1 = 1
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                and status = ##{status}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>companyName != null and companyName != &#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                and company_name like ##{companyName}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brandName != null and brandName != &#39;&#39; <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                and brand_name like ##{companyName}
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectByCondition2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> status <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> companyName <span class="token operator">=</span> <span class="token string">&quot;åä¸º&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> brandName <span class="token operator">=</span> <span class="token string">&quot;åä¸º&quot;</span><span class="token punctuation">;</span>

        companyName <span class="token operator">=</span> <span class="token string">&quot;%&quot;</span> <span class="token operator">+</span> companyName <span class="token operator">+</span> <span class="token string">&quot;%&quot;</span><span class="token punctuation">;</span>
        brandName <span class="token operator">=</span> <span class="token string">&quot;%&quot;</span> <span class="token operator">+</span> brandName <span class="token operator">+</span> <span class="token string">&quot;%&quot;</span><span class="token punctuation">;</span>

        <span class="token class-name">Map</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        map.put(&quot;status&quot;,status);</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;companyName&quot;</span><span class="token punctuation">,</span>companyName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//        map.put(&quot;brandName&quot;,brandName);</span>

        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">BrandMapper</span> mapper <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">BrandMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> brands <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">selectByCondition</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>brands<span class="token punctuation">)</span><span class="token punctuation">;</span>
        sqlSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-7-mybatisçš„å‚æ•°å°è£…" tabindex="-1"><a class="header-anchor" href="#_5-7-mybatisçš„å‚æ•°å°è£…" aria-hidden="true">#</a> 5.7 mybatisçš„å‚æ•°å°è£…</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * MyBatiså‚æ•°å°è£…:
 *  *å•ä¸ªå‚æ•°:
 *      1. P0J0ç±»å‹:
 *      2. Mapé›†åˆ:
 *      3. Collection:
 			map.put(&quot;collection&quot;,collectioné›†åˆ)
 			map.put(&quot;arg0&quot;,collectioné›†åˆ)
 *      4. List:
 			map.put(&quot;collection&quot;,listé›†åˆ)
 			map.put(&quot;list&quot;,listé›†åˆ)
 			map.put(&quot;arg0&quot;,listé›†åˆ)
 *      5. Array:
 			map.put(&quot;array&quot;,æ•°ç»„)
 			map.put(&quot;arg0&quot;,æ•°ç»„)
 *      6.å…¶ä»–ç±»å‹:
 *  *å¤šä¸ªå‚æ•°:
 *      å°è£…ä¸ºMapé›†åˆ
 *      map.put(&quot;arg0&quot;ï¼Œå‚æ•°å€¼1)
 *      map.put(&quot;agr1&quot;ï¼Œå‚æ•°å€¼2)
 *      map.put(&quot;param1&quot;ï¼Œå‚æ•°å€¼1)
 *      map.put(&quot;param2&quot;ï¼Œå‚æ•°å€¼2)
 *
 *
 *
 * <span class="token keyword">@param</span> <span class="token parameter">username</span>
 * <span class="token keyword">@param</span> <span class="token parameter">age</span>
 * <span class="token keyword">@return</span>
 */</span>
<span class="token class-name">User</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token class-name">String</span> username<span class="token punctuation">,</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºä»€ä¹ˆåœ¨æ¥å£ä¼ å…¥å‚æ•°ï¼Œå°±èƒ½è¢«æ‹¿æ¥ä½¿ç”¨å‘¢ï¼Ÿ</p><blockquote><p>entrySet() æ–¹æ³•è¿”å›æ˜ å°„ä¸­åŒ…å«çš„æ˜ å°„çš„ Set è§†å›¾ã€‚</p><p>è¿”å›æ­¤æ˜ å°„ä¸­åŒ…å«çš„æ˜ å°„çš„ Set è§†å›¾ã€‚</p><p>**æ³¨æ„ï¼š**Set è§†å›¾æ„æ€æ˜¯ HashMap ä¸­æ‰€æœ‰çš„é”®å€¼å¯¹éƒ½è¢«çœ‹ä½œæ˜¯ä¸€ä¸ª set é›†åˆã€‚</p></blockquote><p><strong>å®é™…ä¸Šmybatisé€šè¿‡ParamNameResolverç±»ä¸­çš„getNamedParams(Object[] args)æ–¹æ³•æ¥å®ç°çš„</strong></p><p>æˆ‘ä»¬debugæ¥è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°å‚æ•°è¢«ä¼ åˆ°äº†getNamedParams(Object[] args)æ–¹æ³•ä¸­ï¼Œä¹‹åè¢«æ”¾åˆ°paramé›†åˆä¸­ï¼Œè¿™ä¸ªå°±æ˜¯æ”¾ä½ å‚æ•°çš„åœ°æ–¹ï¼Œä¹‹åéå†namesçš„é›†åˆã€‚ç„¶åå¾€paramé›†åˆä¸­putæ·»åŠ </p><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220227211406510.png" alt="image-20220227211406510" tabindex="0" loading="lazy"><figcaption>image-20220227211406510</figcaption></figure><p>ä½†å¹¶ä¸æ¨èç”¨è‡ªå¸¦çš„é”®å€¼å¯¹ï¼Œå› ä¸ºå¯è¯»æ€§ä¸å¥½ã€‚æ‰€ä»¥å¯ä»¥ç”¨@Paramæ³¨è§£æ¥è®¾ç½®keyå€¼</p><h2 id="å…­ã€mybatis-ç¼“å­˜æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#å…­ã€mybatis-ç¼“å­˜æœºåˆ¶" aria-hidden="true">#</a> å…­ã€MyBatis-ç¼“å­˜æœºåˆ¶</h2><p>ç¼“å­˜æœºåˆ¶å°±æ˜¯ç”¨æ¥æé«˜æŸ¥è¯¢æ•ˆç‡çš„ï¼Œå°±æƒ³æˆ‘ä»¬çœ‹ç”µå½±ä¸€æ ·ï¼ŒæŠŠå®ƒç¼“å­˜ä¸‹æ¥åœ¨çœ‹å°±ä¸å¡äº†å¯¹å§ï¼Œå¾ˆå¥½ç†è§£Mybatisä¸­çš„ç¼“å­˜æœºåˆ¶ä¹Ÿæ˜¯å¤„äºè¿™ä¸ªç›®çš„~</p><p>ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«ä»‹ç»ä¸‹mybatisä¸­çš„ç¼“å­˜æœºåˆ¶ï¼š</p><p>MyBatisåŒ…å«ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æŸ¥è¯¢ç¼“å­˜ç‰¹æ€§,å®ƒå¯ä»¥éå¸¸æ–¹ä¾¿åœ°é…ç½®å’Œå®šåˆ¶ã€‚ç¼“å­˜å¯ä»¥æå¤§çš„æå‡æŸ¥è¯¢æ•ˆç‡ã€‚</p><p>MyBatisç³»ç»Ÿä¸­é»˜è®¤å®šä¹‰äº†ä¸¤çº§ç¼“å­˜ã€‚ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜ã€‚</p><ul><li><p>1ã€é»˜è®¤æƒ…å†µä¸‹,åªæœ‰ä¸€çº§ç¼“å­˜ï¼ˆSqlSessionçº§åˆ«çš„ç¼“å­˜ï¹ä¹Ÿç§°ä¸ºæœ¬åœ°ç¼“å­˜)å¼€å¯ã€‚</p></li><li><p>2ã€äºŒçº§ç¼“å­˜éœ€è¦æ‰‹åŠ¨å¼€å¯å’Œé…ç½®ï¹ä»–æ˜¯åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ã€‚</p></li><li><p>3ã€ä¸ºäº†æé«˜æ‰©å±•æ€§ã€‚MyBatiså®šä¹‰äº†ç¼“å­˜æ¥å£Cacheã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°Cacheæ¥å£æ¥è‡ªå®šä¹‰äºŒçº§ç¼“å­˜</p></li><li><p>ä¸€çº§ç¼“å­˜ï¼Œæ—¢æ˜¯æœ¬åœ°çš„ç¼“å­˜ï¼Œä½œç”¨åŸŸé»˜è®¤æ˜¯sqlSessionã€‚å½“ Session flush æˆ– close å, è¯¥ Session ä¸­çš„æ‰€æœ‰ Cache å°†è¢«æ¸…ç©ºã€‚</p></li><li><p><strong>æœ¬åœ°ç¼“å­˜ä¸èƒ½è¢«å…³é—­</strong>, ä½†å¯ä»¥è°ƒç”¨ clearCache() æ¥æ¸…ç©ºæœ¬åœ°ç¼“å­˜, æˆ–è€…æ”¹å˜ç¼“å­˜çš„ä½œç”¨åŸŸ.</p></li><li><p>åœ¨mybatis3.1ä¹‹å, å¯ä»¥é…ç½®æœ¬åœ°ç¼“å­˜çš„ä½œç”¨åŸŸ. åœ¨ mybatis.xml ä¸­é…</p></li></ul><p>ç”¨å…³é”®å­—localCacheScope</p><p><strong>å¦‚ä¸‹å›¾æ‰€ç¤º</strong></p><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220207115802676.png" alt="image-20220207115802676" tabindex="0" loading="lazy"><figcaption>image-20220207115802676</figcaption></figure><h3 id="_6-1-ä¸€çº§ç¼“å­˜-æœ¬åœ°ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#_6-1-ä¸€çº§ç¼“å­˜-æœ¬åœ°ç¼“å­˜" aria-hidden="true">#</a> 6.1 ä¸€çº§ç¼“å­˜(æœ¬åœ°ç¼“å­˜)</h3><p><strong>sqlSessionçº§åˆ«çš„ç¼“å­˜ã€‚ä¸€çº§ç¼“å­˜æ˜¯ä¸€ç›´å¼€å¯çš„</strong>ï¼›sqlSessionçº§åˆ«çš„ä¸€ä¸ªMapï¼ˆå¦‚æœmapé‡Œæœ‰ï¼Œé‚£å°±ç›´æ¥æ‹¿ã€‚æ²¡æœ‰å°±å†å»è°ƒç”¨ï¼‰</p><ul><li><pre><code>     ä¸æ•°æ®åº“åŒä¸€æ¬¡ä¼šè¯æœŸé—´æŸ¥è¯¢åˆ°çš„æ•°æ®ä¼šæ”¾åœ¨æœ¬åœ°ç¼“å­˜ä¸­
</code></pre></li><li><pre><code>     ä»¥åå¦‚æœéœ€è¦è·å–ç›¸åŒçš„æ•°æ®,ç›´æ¥ä»ç¼“å­˜ä¸­æ‹¿,æ²¡å¿…è¦å†å»æŸ¥è¯¢æ•°æ®åº“
</code></pre></li></ul><p><strong>ä¸€çº§ç¼“å­˜å¤±æ•ˆæƒ…å†µï¼ˆæ²¡æœ‰ä½¿ç”¨åˆ°å½“å‰ä¸€çº§ç¼“å­˜çš„æƒ…å†µï¼Œæ•ˆæœå°±æ˜¯ï¼Œè¿˜éœ€è¦å†å‘æ•°æ®åº“å‘å‡ºæŸ¥è¯¢ï¼‰</strong></p><ol><li>sqlSessionä¸åŒ</li><li>sqlSessionç›¸åŒï¼ŒæŸ¥è¯¢æ¡ä»¶ä¸åŒ</li><li>sqlSessionç›¸åŒï¼Œä¸¤æ¬¡æŸ¥è¯¢ä¹‹é—´æ‰§è¡Œäº†å¢åˆ æ”¹æ“ä½œ</li><li>sqlSessionç›¸åŒï¼Œæ‰‹åŠ¨æ¸…æ¥šäº†ä¸€çº§ç¼“å­˜ï¼ˆç¼“å­˜æƒ…å†µï¼‰</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test10</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token function">getSqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SqlSession</span> openSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">EmployeeMapper</span> mapper <span class="token operator">=</span> openSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Employee</span> emp01 <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>emp01<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Employee</span> emp02 <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">getEmpById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>emp02<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>emp01<span class="token operator">==</span>emp02<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        openSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…³é”®çš„è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><div class="language-wiki line-numbers-mode" data-ext="wiki"><pre class="language-wiki"><code>Setting autocommit to false on JDBC Connection <span class="token url">[com.mysql.jdbc.JDBC4Connection@491cc5c9]</span>
==&gt;  Preparing: select * from tbl_employee where id = ? 
==&gt; Parameters: 1(Integer)
&lt;==    Columns: id, last_name, gender, email, d_id
&lt;==        Row: 1, tom, 0, tom@caq.com, 1
&lt;==      Total: 1
Employee{id=1, lastName=&#39;tom&#39;, email=&#39;tom@caq.com&#39;, gender=&#39;0&#39;}
Employee{id=1, lastName=&#39;tom&#39;, email=&#39;tom@caq.com&#39;, gender=&#39;0&#39;}
true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢æˆ‘è¿›è¡Œæ¸…ç†æœ¬åœ°ç¼“å†²çš„æ“ä½œ</p><p>ä¹Ÿå°±æ˜¯åœ¨æºä»£ç çš„åŸºç¡€ä¸ŠåŠ ä¸Š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>openSession<span class="token punctuation">.</span><span class="token function">clearCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åå†æ¬¡æŸ¥è¯¢</p><p>å…³é”®çš„è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><div class="language-wiki line-numbers-mode" data-ext="wiki"><pre class="language-wiki"><code>Setting autocommit to false on JDBC Connection <span class="token url">[com.mysql.jdbc.JDBC4Connection@491cc5c9]</span>
==&gt;  Preparing: select * from tbl_employee where id = ? 
==&gt; Parameters: 1(Integer)
&lt;==    Columns: id, last_name, gender, email, d_id
&lt;==        Row: 1, tom, 0, tom@caq.com, 1
&lt;==      Total: 1
Employee{id=1, lastName=&#39;tom&#39;, email=&#39;tom@caq.com&#39;, gender=&#39;0&#39;}
Employee{id=1, lastName=&#39;tom&#39;, email=&#39;tom@caq.com&#39;, gender=&#39;0&#39;}
false
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°è¿™æ¬¡æŸ¥è¯¢çš„ä¸¤ä¸ªå¯¹è±¡ä¸åœ¨æ˜¯åŒä¸€ä¸ªäº†ï¼Œè€Œæ˜¯ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡ï¼Œæ‰€ä»¥æ¯”è¾ƒå¯¹è±¡çš„åœ°å€å€¼çš„æ—¶å€™è¿”å›çš„æ˜¯false</p><h3 id="_6-2-äºŒçº§ç¼“å­˜-å…¨å±€ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#_6-2-äºŒçº§ç¼“å­˜-å…¨å±€ç¼“å­˜" aria-hidden="true">#</a> 6.2 äºŒçº§ç¼“å­˜(å…¨å±€ç¼“å­˜)</h3><p>åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ï¼›ä¸€ä¸ªnamespaceå¯¹åº”ä¸€ä¸ªäºŒçº§ç¼“å­˜ï¼›</p><p>å·¥ä½œæœºåˆ¶ï¼š</p><ol><li><p>æŸ¥è¯¢ä¸€æ¡æ•°æ®ï¼šè¿™ä¸ªæ•°æ®å°±ä¼šè¢«æ”¾åœ¨å½“å‰ä¼šè¯çš„ä¸€çº§ç¼“å­˜ä¸­</p></li><li><p>å¦‚æœä¼šè¯å…³é—­ï¼›ä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®ä¼šè¢«ä¿å­˜åˆ°äºŒçº§ç¼“å­˜ä¸­ï¼›æ–°çš„ä¼šè¯æŸ¥è¯¢ä¿¡æ¯ï¼Œå°±å¯ä»¥å‚ç…§äºŒçº§ç¼“å­˜</p></li><li><p>sqlSession---ã€‹EmployeeMapper---ã€‹Employee</p><p>â€‹ DepartMentMapper===ã€‹Department</p><p>ä¸åŒnamespaceæŸ¥å‡ºçš„æ•°æ®ä¼šè¢«æ”¾åœ¨è‡ªå·±å¯¹åº”çš„ç¼“å­˜ï¼ˆmapä¸­ï¼‰</p></li></ol><p>ä½¿ç”¨ï¼š</p><ol><li>å¼€å¯äºŒçº§ç¼“å­˜<!----></li><li>å»mapper.xmlä¸­é…ç½®ä½¿ç”¨äºŒçº§ç¼“å­˜</li><li>æˆ‘ä»¬çš„pojoéœ€è¦å®ç°åºåˆ—åŒ–æ¥å£</li></ol><p>å’Œç¼“å­˜æœ‰å…³çš„è®¾ç½®/å±æ€§ï¼š</p><ol><li>cacheEnable=true false</li><li>eviction:ç¼“å­˜çš„å›æ”¶ç­–ç•¥</li><li>LRU â€“ æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼šç§»é™¤æœ€é•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ã€‚</li><li>FIFO â€“ å…ˆè¿›å…ˆå‡ºï¼šæŒ‰å¯¹è±¡è¿›å…¥ç¼“å­˜çš„é¡ºåºæ¥ç§»é™¤å®ƒä»¬ã€‚</li><li>SOFT â€“ è½¯å¼•ç”¨ï¼šåŸºäºåƒåœ¾å›æ”¶å™¨çŠ¶æ€å’Œè½¯å¼•ç”¨è§„åˆ™ç§»é™¤å¯¹è±¡ã€‚</li><li>WEAK â€“ å¼±å¼•ç”¨ï¼šæ›´ç§¯æåœ°åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œå¼±å¼•ç”¨è§„åˆ™ç§»é™¤å¯¹è±¡ã€‚</li><li>flushInterval:ç¼“å­˜åˆ·æ–°é—´éš”</li><li>ç¼“å­˜å¤šé•¿æ—¶é—´æ¸…ç©ºä¸€æ¬¡ï¼Œé»˜è®¤ä¸æ¸…ç©ºï¼Œè®¾ç½®ä¸€ä¸ªæ¯«ç§’å€¼</li></ol><p>readonly:æ˜¯å¦åªè¯»; true.åªè¯»: mybatisè®¤ä¸ºæ‰€æœ‰ä»ç¼“å­˜ä¸­è·å–æ•°æ®çš„æ“ä½œéƒ½æ˜¯åªè¯»æ“ä½œï¼Œä¸ä¼šä¿®æ”¹æ•°æ®ã€‚mybatisä¸ºäº†åŠ å¿«è·å–é€Ÿåº¦ï¼Œç›´æ¥å°±ä¼šå°†æ•°æ®åœ¨ç¼“å­˜ä¸­çš„å¼•ç”¨äº¤ç»™ç”¨æˆ·ã€‚ä¸å®‰å…¨ï¼Œé€Ÿåº¦å¿«</p><p>false:éåªè¯»:mybatisè§‰å¾—è·å–çš„é¼“æ®å¯èƒ½ä¼šè¢«ä¿®æ”¹ã€‚mybatisä¼šåˆ©ç”¨åºåˆ—åŒ–&amp;ååºåˆ—çš„æŠ€æœ¯å…‹éš†ä¸€Iä»½æ–°çš„æ•°æ®ç»™ä½ ã€‚å®‰å…¨ï¼Œé€Ÿåº¦æ…¢</p><p>sizeï¼Œç¼“å­˜å­˜æ”¾å¤šå°‘å…ƒç´ </p><h2 id="ä¸ƒã€mybatis-é€†å‘å·¥ç¨‹" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€mybatis-é€†å‘å·¥ç¨‹" aria-hidden="true">#</a> ä¸ƒã€MyBatis-é€†å‘å·¥ç¨‹</h2><p>Mybatis æä¾›äº†ä¸€ä¸ªé€†å‘å·¥ç¨‹å·¥å…·ï¼Œè¯¥å·¥å…·å¯ä»¥æ ¹æ®æ•°æ®è¡¨è‡ªåŠ¨ç”Ÿæˆé’ˆå¯¹å•è¡¨çš„ po ç±»ã€mapper æ˜ å°„æ–‡ä»¶å’Œ mapper æ¥å£ã€‚å¤§å¤§ç¼©å‡äº†å¼€å‘æ—¶é—´ï¼Œå¯ä»¥è®©å¼€å‘äººå‘˜å°†æ›´å¤šçš„ç²¾åŠ›æ”¾åœ¨ç¹æ‚çš„ä¸šåŠ¡é€»è¾‘ä¸Šã€‚</p><p>ä¹‹æ‰€ä»¥å¼ºè°ƒå•è¡¨ä¸¤ä¸ªå­—ï¼Œæ˜¯å› ä¸º MyBatis é€†å‘å·¥ç¨‹ç”Ÿæˆçš„ Mapper ä¸­çš„æ“ä½œéƒ½æ˜¯é’ˆå¯¹å•è¡¨çš„ã€‚åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå¾ˆå°‘æœ‰å¤æ‚çš„å¤šè¡¨å…³è”æŸ¥è¯¢ï¼Œæ‰€ä»¥è¯¥å·¥å…·ä½œç”¨è¿˜æ˜¯å¾ˆå¤§çš„ã€‚</p><p>æˆ‘ä»¬åªéœ€ç¼–å†™å¤æ‚çš„sqlç¼–å†™å’Œè¡¨è¿æ¥</p><p>ä»¥ä¸‹mybatisçš„é€†å‘å·¥ç¨‹æˆ‘ä»¬ç§°ä¹‹ä¸ºMBG</p><h3 id="_7-1-mbgçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_7-1-mbgçš„ä½¿ç”¨" aria-hidden="true">#</a> 7.1 MBGçš„ä½¿ç”¨</h3><p>ç¼–å†™MBGé…ç½®æ–‡ä»¶</p><p>æˆ‘ä»¬å»mybatiså®˜ç½‘æŸ¥çœ‹MBGçš„é…ç½®æ–‡ä»¶æ€ä¹ˆå†™çš„</p><p><a href="http://mybatis.org/generator/" target="_blank" rel="noopener noreferrer">MyBatis Generator Core â€“ Introduction to MyBatis Generator<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220207160557125.png" alt="image-20220207160557125" tabindex="0" loading="lazy"><figcaption>image-20220207160557125</figcaption></figure><p>ä¹‹åæˆ‘ä»¬è‡ªå®šä¹‰é…ç½®æ–‡ä»¶çš„å†…å®¹ã€jdbcConnectioné…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯</p><p><strong>ä¸€ã€ç¼–å†™MBGçš„é…ç½®æ–‡ä»¶</strong></p><ol><li>javaModelGeneratoré…ç½®javaBeançš„ç”Ÿæˆç­–ç•¥</li><li>sqlMapGenerator é…ç½®sqlæ˜ å°„æ–‡ä»¶ç”Ÿæˆç­–ç•¥</li><li>javaClientGeneratoré…ç½®Mapperæ¥å£çš„ç”Ÿæˆç­–ç•¥</li><li>table é…ç½®è¦é€†å‘è§£æçš„æ•°æ®è¡¨</li></ol><ul><li>â€‹ tableNameï¼šè¡¨å</li><li>â€‹ domainObjectNameï¼šå¯¹åº”çš„javaBeanå</li></ul><p><strong>äºŒã€è¿è¡Œä»£ç ç”Ÿæˆå™¨ç”Ÿæˆä»£ç </strong></p><p>Contextæ ‡ç­¾</p><p>targetRuntime=&quot;MyBatis3&quot;å¯ä»¥ç”Ÿæˆå¸¦æ¡ä»¶çš„å¢åˆ æ”¹æŸ¥</p><p>targetRuntime=&quot;MyBatis3Simpleâ€œå¯ä»¥ç”ŸæˆåŸºæœ¬çš„å¢åˆ æ”¹æŸ¥</p><p>å¦‚æœå†æ¬¡ç”Ÿæˆï¼Œå»ºè®®å°†ä¹‹å‰ç”Ÿæˆçš„æ•°æ®åˆ é™¤ï¹é¿å…xmlå‘åè¿½åŠ å†…å®¹å‡ºç°çš„é—®é¢˜ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">generatorConfiguration</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>generatorConfiguration</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>classPathEntry</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>E:\Environment\Maven\repository\mysql\mysql-connector-java\5.1.16\mysql-connector-java-5.1.16.jar<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DB2Tables<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetRuntime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>MyBatis3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdbcConnection</span> <span class="token attr-name">driverClass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.jdbc.Driver<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">connectionURL</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql://localhost:3306/mybatis<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">userId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">password</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdbcConnection</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaTypeResolver</span> <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>forceBigDecimals<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>javaTypeResolver</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--        javaBeançš„ç”Ÿæˆç­–ç•¥
            targetProject=â€test.modelâ€œç›®æ ‡åŒ…å
            targetProject=&quot;\MBGTestProject\src&quot; ç›®æ ‡å·¥ç¨‹
--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaModelGenerator</span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.bean<span class="token punctuation">&quot;</span></span>
                            <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>src/main/java<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>enableSubPackages<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>trimStrings<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>javaModelGenerator</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--        sqlMapGeneratorï¼šsqlæ˜ å°„ç”Ÿæˆç­–ç•¥--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sqlMapGenerator</span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.dao<span class="token punctuation">&quot;</span></span>
                         <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>src/main/java<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>enableSubPackages<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sqlMapGenerator</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--        javaClientGenerator:æŒ‡å®šmapperæ¥å£çš„ä½ç½®--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaClientGenerator</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>XMLMAPPER<span class="token punctuation">&quot;</span></span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.caq.mybatis.dao<span class="token punctuation">&quot;</span></span>
                             <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>src/main/java<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>enableSubPackages<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>javaClientGenerator</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--        æŒ‡å®šè¦é€†è¡Œåˆ†æå“ªäº›è¡¨:æ ¹æ®è¡¨è¦åˆ›å»ºjavaBean--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">tableName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tbl_dept<span class="token punctuation">&quot;</span></span> <span class="token attr-name">domainObjectName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Department<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">tableName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tbl_employee<span class="token punctuation">&quot;</span></span> <span class="token attr-name">domainObjectName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>generatorConfiguration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”Ÿæˆå™¨ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MybatisTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">SqlSessionFactory</span> <span class="token function">getSqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">&quot;mybatis-config.xml&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testMbg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> warnings <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> overwrite <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token class-name">File</span> configFile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;src/main/resources/mbg.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ConfigurationParser</span> cp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConfigurationParser</span><span class="token punctuation">(</span>warnings<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Configuration</span> config <span class="token operator">=</span> cp<span class="token punctuation">.</span><span class="token function">parseConfiguration</span><span class="token punctuation">(</span>configFile<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">DefaultShellCallback</span> callback <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultShellCallback</span><span class="token punctuation">(</span>overwrite<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">MyBatisGenerator</span> myBatisGenerator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyBatisGenerator</span><span class="token punctuation">(</span>config<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> warnings<span class="token punctuation">)</span><span class="token punctuation">;</span>
        myBatisGenerator<span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Ok,æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSimple</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token function">getSqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SqlSession</span> openSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">EmployeeMapper</span> mapper <span class="token operator">=</span> openSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> employees <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Employee</span> employee <span class="token operator">:</span> employees<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        openSession<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬æŠŠæ¡ä»¶æ”¹æˆtargetRuntime=&quot;MyBatis3&quot;åœ¨è¿›è¡Œæµ‹è¯•</p><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220207162145679.png" alt="image-20220207162145679" tabindex="0" loading="lazy"><figcaption>image-20220207162145679</figcaption></figure><p>ç›®å½•ç»“æ„å¦‚ä¸Šæ‰€ç¤º</p><p>æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹å¸¦æ¡ä»¶çš„å¢åˆ æ”¹æŸ¥</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>   <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testMyBatis3Simple</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token function">getSqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SqlSession</span> openSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">EmployeeMapper</span> mapper <span class="token operator">=</span> openSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">EmployeeMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//xxxExampleå°±æ˜¯å°è£…æŸ¥è¯¢æ¡ä»¶çš„</span>
<span class="token comment">//            æŸ¥è¯¢æ‰€æœ‰</span>
<span class="token comment">//            List&lt;Employee&gt; list = mapper.selectByExample(null);</span>
<span class="token comment">//            æŸ¥è¯¢å‘˜å·¥ä¸­å¸¦æœ‰eå­—æ¯çš„ï¼Œå’Œå‘˜å·¥æ€§åˆ«æ˜¯1çš„</span>
            <span class="token class-name">EmployeeExample</span> example <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EmployeeExample</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//            åˆ›å»ºä¸€ä¸ªCriteriaï¼Œå®ƒå°±æ˜¯æ‹¼è£…æŸ¥è¯¢æ¡ä»¶çš„</span>
<span class="token comment">//            WHERE ( last_name like ? and gender = ? )</span>
            <span class="token class-name">EmployeeExample<span class="token punctuation">.</span>Criteria</span> criteria <span class="token operator">=</span> example<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            criteria<span class="token punctuation">.</span><span class="token function">andLastNameLike</span><span class="token punctuation">(</span><span class="token string">&quot;%e%&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            criteria<span class="token punctuation">.</span><span class="token function">andGenderEqualTo</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">//            select id, last_name, gender, email, d_id from tbl_employee WHERE ( last_name like ? and gender = ? ) or( email like ? )</span>
            <span class="token class-name">EmployeeExample<span class="token punctuation">.</span>Criteria</span> criteria1 <span class="token operator">=</span> example<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            criteria1<span class="token punctuation">.</span><span class="token function">andEmailLike</span><span class="token punctuation">(</span><span class="token string">&quot;%e%&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            example<span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span>criteria1<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">selectByExample</span><span class="token punctuation">(</span>example<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Employee</span> employee <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>employee<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            openSession<span class="token punctuation">.</span><span class="token function">clearCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p><p>å¯ä»¥çœ‹åˆ°å‘˜å·¥ä¸­å¸¦æœ‰eå­—æ¯çš„ï¼Œå’Œå‘˜å·¥æ€§åˆ«æ˜¯1çš„éƒ½è¢«æŸ¥è¯¢å‡ºæ¥</p><p>ä¹‹åæˆ‘ä»¬åˆæ‹¼æ¥äº†ä¸€ä¸ªoræ¡ä»¶å¯ä»¥çœ‹æˆ‘ä»¬çš„sqlè¯­å¥select id, last_name, gender, email, d_id from tbl_employee WHERE ( last_name like ? and gender = ? ) or( email like ? )</p><p>åœ¨æµ‹è¯•ä»£ç ä¸­æˆ‘ä»¬ä¹Ÿæ‰“å°äº†æ¯ä¸ªå‘˜å·¥çš„id</p><p>å¾ˆå¥½ç†è§£~ï¼</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Logging initialized using &#39;class org.apache.ibatis.logging.stdout.StdOutImpl&#39; adapter.
PooledDataSource forcefully closed/removed all connections.
PooledDataSource forcefully closed/removed all connections.
PooledDataSource forcefully closed/removed all connections.
PooledDataSource forcefully closed/removed all connections.
Opening JDBC Connection
Created connection 2015781843.
Setting autocommit to false on JDBC Connection [com.mysql.jdbc.JDBC4Connection@782663d3]
==&gt;  Preparing: select id, last_name, gender, email, d_id from tbl_employee WHERE ( last_name like ? and gender = ? ) or( email like ? ) 
==&gt; Parameters: %e%(String), 1(String), %e%(String)
&lt;==    Columns: id, last_name, gender, email, d_id
&lt;==        Row: 3, jerry1, 1, jerry1@qq.com, 2
&lt;==        Row: 4, jerry2, 1, jerry2@qq.com, 1
&lt;==        Row: 5, jerry3, 1, jerry3@qq.com, 2
&lt;==        Row: 7, Rose, 0, Rose@qq.com, 2
&lt;==        Row: 8, jerry2, 1, jerry2@qq.com, null
&lt;==        Row: 12, apple, 0, apple@163.com.com, 2
&lt;==      Total: 6
3
4
5
7
8
12
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å…«ã€å­¦ä¹ mybatisé‡åˆ°çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å…«ã€å­¦ä¹ mybatisé‡åˆ°çš„é—®é¢˜" aria-hidden="true">#</a> å…«ã€å­¦ä¹ Mybatisé‡åˆ°çš„é—®é¢˜</h2><h3 id="è§£å†³mybatis-æŠ¥é”™invalid-bound-statement-not-found" tabindex="-1"><a class="header-anchor" href="#è§£å†³mybatis-æŠ¥é”™invalid-bound-statement-not-found" aria-hidden="true">#</a> è§£å†³Mybatis æŠ¥é”™Invalid bound statement (not found)</h3><p>å‡ºç°æ­¤é”™è¯¯çš„åŸå› </p><p>1.xmlæ–‡ä»¶ä¸å­˜åœ¨</p><p>2.xmlæ–‡ä»¶å’Œmapperæ²¡æœ‰æ˜ å°„ä¸Š</p><ul><li>namespaceæŒ‡å®šæ˜ å°„mapperçš„è·¯å¾„é”™è¯¯</li><li>idå’Œmapperä¸­çš„æ–¹æ³•åä¸ä¸€è‡´</li></ul><figure><img src="https://img-blog.csdnimg.cn/img_convert/c335228011b8375116109b787a201dcb.png" alt="image-20211023230835681" tabindex="0" loading="lazy"><figcaption>image-20211023230835681</figcaption></figure><p>3.xmlæ–‡ä»¶åœ¨javaç›®å½•ä¸‹è€Œä¸åœ¨resourceç›®å½•ä¸‹ï¼Œå› æ­¤ç”Ÿæˆtargetä¸­æ— xml</p><p><strong>åœ¨pomæ–‡ä»¶ä¸­æ·»åŠ </strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- é¡¹ç›®æ‰“åŒ…æ—¶ä¼šå°†javaç›®å½•ä¸­çš„*.xmlæ–‡ä»¶ä¹Ÿè¿›è¡Œæ‰“åŒ… --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mybatis-æŠ¥é”™there-is-no-getter-for-property-named-lastname-in-class-com-caq-mybatis-bean-employee" tabindex="-1"><a class="header-anchor" href="#mybatis-æŠ¥é”™there-is-no-getter-for-property-named-lastname-in-class-com-caq-mybatis-bean-employee" aria-hidden="true">#</a> Mybatis æŠ¥é”™There is no getter for property named &#39;lastname&#39; in &#39;class com.caq.mybatis.bean.Employee&#39;</h3><p>å‡ºç°è¿™æ ·çš„æŠ¥é”™æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Œç»å¤§å¤šæ•°æ˜¯å› ä¸ºä½ çš„ä¸ç»†å¿ƒå¯¼è‡´çš„ã€‚</p><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220122233146198.png" alt="image-20220122233146198" tabindex="0" loading="lazy"><figcaption>image-20220122233146198</figcaption></figure><p>æˆ‘ä»¬çŸ¥é“åœ¨ xxxMapper.xml é…ç½®æ–‡ä»¶ä¸­ï¼Œsqlä¸­çš„å‚æ•°##{XXXX}è¦ä¸ä½ çš„JAVABeanä¸­å®šä¹‰åç§°ä¸€è‡´ï¼ˆå¤§å°å†™è¦å®Œå…¨ä¸€è‡´ï¼‰ã€‚</p><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220122233659046.png" alt="image-20220122233659046" tabindex="0" loading="lazy"><figcaption>image-20220122233659046</figcaption></figure><figure><img src="https://typora-1259403628.cos.ap-nanjing.myqcloud.com/image-20220122233708267.png" alt="image-20220122233708267" tabindex="0" loading="lazy"><figcaption>image-20220122233708267</figcaption></figure><p><strong>ç¬¬ä¸€ä¸ªçº¢æ¡†åœˆçš„è¦å’Œæ•°æ®åº“å­—æ®µä¸€æ ·</strong></p><p><strong>ç¬¬äºŒä¸ªçº¢æ¡†åœˆçš„è¦å’ŒJavaBeanä¸­å­—æ®µä¸€è‡´</strong></p><p>å¾ˆæ˜¾ç„¶æˆ‘æ²¡æœ‰å¯¹åº”å¥½~</p><p>æ”¹è¿‡æ¥</p><h3 id="mybatisé…ç½®æ–‡ä»¶å¼€å¯é©¼å³°å‘½åæ˜ å°„" tabindex="-1"><a class="header-anchor" href="#mybatisé…ç½®æ–‡ä»¶å¼€å¯é©¼å³°å‘½åæ˜ å°„" aria-hidden="true">#</a> MyBatisé…ç½®æ–‡ä»¶å¼€å¯é©¼å³°å‘½åæ˜ å°„</h3><p>ä»Šå¤©çœ‹SpringBootæ•´åˆMybatisæ—¶çœ‹åˆ°äº†ï¼Œé‡åˆ°äº†ä¸€ä¸ªé—å¿˜çš„ç‚¹ï¼Œmybatiså±æ€§ä½¿ç”¨é©¼å³°å‘½åï¼Œæˆ‘å±…ç„¶ç»™å¿˜äº†æ€ä¹ˆé…ç½®æ¥ç€ã€‚ä¿®æ”¹mybatisé…ç½®æ–‡ä»¶ï¼Œé…ç½®é©¼å³°å‘½åã€‚</p><p>æ‰€ä»¥æ•´ç†ä¸€ä¸‹è¿™äº›é—å¿˜çš„ç‚¹å’Œç”¨åˆ°çš„é…ç½®ã€‚</p><p>mybatisæ”¯æŒå±æ€§ä½¿ç”¨é©¼å³°çš„å‘½å,ç”¨</p><p>å±æ€§æ˜¯è¿™æ ·çš„</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapUnderscoreToCamelCase<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--æ˜¯å¦å¯ç”¨ä¸‹åˆ’çº¿ä¸é©¼å³°å¼å‘½åè§„åˆ™çš„æ˜ å°„ï¼ˆå¦‚first_name =&gt; firstNameï¼‰--&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨settingä¸­è®¾ç½®<strong>mapUnderscoreToCamelCase</strong>ä¸º<code>true</code>,å°±å¯ä»¥å®ç°é©¼å³°è½¬æ¢äº†ï¼Œ è¿™ä¸ªçš„é»˜è®¤æ˜¯<code>false</code>ï¼›</p><p>åœ¨SpringBoot é¡¹ç›®ä¸­æ²¡æœ‰mybatis.xmlæ–‡ä»¶ï¼Œå¯ä»¥åœ¨application.propertiesä¸­ï¼ŒåŠ å…¥ä¸‹é¢çš„é…ç½®é¡¹:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>mybatis.configuration.mapUnderscoreToCamelCase=trueæˆ–mybatis.configuration.map-underscore-to-camel-case=true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="æ€ä¹ˆè§£å†³é…ç½®æ–‡ä»¶ä¸­å‡ºç°çš„the-content-of-element-type-configuration-must-match-é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#æ€ä¹ˆè§£å†³é…ç½®æ–‡ä»¶ä¸­å‡ºç°çš„the-content-of-element-type-configuration-must-match-é—®é¢˜" aria-hidden="true">#</a> æ€ä¹ˆè§£å†³é…ç½®æ–‡ä»¶ä¸­å‡ºç°çš„The content of element type &quot;configuration&quot; must match...é—®é¢˜</h3><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>The content of element type &quot;configuration&quot; must match 
 &quot;(properties?,settings?,typeAliases?,typeHandlers?,objectFactory?
 ,objectWrapperFactory?,reflectorFactory?,plugins?,environments?,databaseIdProvider?,mappers?)&quot;.s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡ºç°è¿™ä¸ªé”™è¯¯çš„åŸå› æ˜¯ï¼š<code>&lt;configuration&gt;</code>ä¸‹çš„å„ä¸ªæ ‡ç­¾æ˜¯æœ‰é¡ºåºçš„ï¼Œæˆ‘å½“æ—¶æ˜¯æŠŠ<code>&lt;plugins&gt;</code>æ”¾åˆ°äº†<code>&lt;typeAliases&gt;</code>çš„å‰é¢ã€‚è°ƒæ•´é¡ºåºåé—®é¢˜è§£å†³ã€‚åœ¨å†™xmlæ–‡ä»¶æ—¶è¦æ³¨æ„å„æ ‡ç­¾çš„é¡ºåºï¼Œ<code>&lt;configuration&gt;</code>ä¸­çš„å„å­æ ‡ç­¾é¡ºåºåº”æŒ‰ä¸Šå›¾æŠ¥é”™ä¿¡æ¯æ‰€ç¤ºã€‚</p><h3 id="ideaè¿æ¥mysqlæ•°æ®åº“ä¹‹å-ç¼–å†™mapper-xmlæ—¶ä¸ä¼šè‡ªåŠ¨æç¤ºè¡¨ä¿¡æ¯é—®é¢˜ã€‚" tabindex="-1"><a class="header-anchor" href="#ideaè¿æ¥mysqlæ•°æ®åº“ä¹‹å-ç¼–å†™mapper-xmlæ—¶ä¸ä¼šè‡ªåŠ¨æç¤ºè¡¨ä¿¡æ¯é—®é¢˜ã€‚" aria-hidden="true">#</a> IDEAè¿æ¥Mysqlæ•°æ®åº“ä¹‹åï¼Œç¼–å†™Mapper.xmlæ—¶ä¸ä¼šè‡ªåŠ¨æç¤ºè¡¨ä¿¡æ¯é—®é¢˜ã€‚</h3></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/ssss/edit/main/demo/theme-docs/src/Java/æ¡†æ¶å¼€å‘/Mybatis.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><!----><!----></footer><nav class="page-nav"><a href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/SpringMVC.html" class="nav-link prev" aria-label="SpringMVCæ¡†æ¶"><div class="hint"><span class="arrow left"></span>Prev</div><div class="link"><!---->SpringMVCæ¡†æ¶</div></a><a href="/Java/%E6%A1%86%E6%9E%B6%E5%BC%80%E5%8F%91/MybatisPlus.html" class="nav-link next" aria-label="MybatisPlusæ¡†æ¶"><div class="hint">Next<span class="arrow right"></span></div><div class="link">MybatisPlusæ¡†æ¶<!----></div></a></nav><div class="waline-wrapper" darkmode="false" style="display:block;"><div data-waline provider="Waline"><!--v-if--><div class="wl-comment"><!--v-if--><div class="wl-panel"><div class="wl-header item3"><!--[--><div class="wl-header-item"><label for="wl-nick">NickName</label><input id="wl-nick" class="wl-input wl-nick" name="nick" type="text" value></div><div class="wl-header-item"><label for="wl-mail">E-Mail</label><input id="wl-mail" class="wl-input wl-mail" name="mail" type="email" value></div><div class="wl-header-item"><label for="wl-link">Website</label><input id="wl-link" class="wl-input wl-link" name="link" type="text" value></div><!--]--></div><textarea id="wl-edit" class="wl-editor" placeholder="Write a comment here (Fill in the email address to receive an email notification when being replied)"></textarea><div class="wl-preview" style="display:none;"><hr><h4>Preview:</h4><div class="wl-content"></div></div><div class="wl-footer"><div class="wl-actions"><a href="https://guides.github.com/features/mastering-markdown/" title="Markdown Guide" aria-label="Markdown is supported" class="wl-action" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" ariaHidden="true"><path d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z" fill="currentColor"></path></svg></a><button type="button" class="wl-action" title="Emoji" style="display:none;"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M563.2 463.3 677 540c1.7 1.2 3.7 1.8 5.8 1.8.7 0 1.4-.1 2-.2 2.7-.5 5.1-2.1 6.6-4.4l25.3-37.8c1.5-2.3 2.1-5.1 1.6-7.8s-2.1-5.1-4.4-6.6l-73.6-49.1 73.6-49.1c2.3-1.5 3.9-3.9 4.4-6.6.5-2.7 0-5.5-1.6-7.8l-25.3-37.8a10.1 10.1 0 0 0-6.6-4.4c-.7-.1-1.3-.2-2-.2-2.1 0-4.1.6-5.8 1.8l-113.8 76.6c-9.2 6.2-14.7 16.4-14.7 27.5.1 11 5.5 21.3 14.7 27.4zM387 348.8h-45.5c-5.7 0-10.4 4.7-10.4 10.4v153.3c0 5.7 4.7 10.4 10.4 10.4H387c5.7 0 10.4-4.7 10.4-10.4V359.2c0-5.7-4.7-10.4-10.4-10.4zm333.8 241.3-41-20a10.3 10.3 0 0 0-8.1-.5c-2.6.9-4.8 2.9-5.9 5.4-30.1 64.9-93.1 109.1-164.4 115.2-5.7.5-9.9 5.5-9.5 11.2l3.9 45.5c.5 5.3 5 9.5 10.3 9.5h.9c94.8-8 178.5-66.5 218.6-152.7 2.4-5 .3-11.2-4.8-13.6zm186-186.1c-11.9-42-30.5-81.4-55.2-117.1-24.1-34.9-53.5-65.6-87.5-91.2-33.9-25.6-71.5-45.5-111.6-59.2-41.2-14-84.1-21.1-127.8-21.1h-1.2c-75.4 0-148.8 21.4-212.5 61.7-63.7 40.3-114.3 97.6-146.5 165.8-32.2 68.1-44.3 143.6-35.1 218.4 9.3 74.8 39.4 145 87.3 203.3.1.2.3.3.4.5l36.2 38.4c1.1 1.2 2.5 2.1 3.9 2.6 73.3 66.7 168.2 103.5 267.5 103.5 73.3 0 145.2-20.3 207.7-58.7 37.3-22.9 70.3-51.5 98.1-85 27.1-32.7 48.7-69.5 64.2-109.1 15.5-39.7 24.4-81.3 26.6-123.8 2.4-43.6-2.5-87-14.5-129zm-60.5 181.1c-8.3 37-22.8 72-43 104-19.7 31.1-44.3 58.6-73.1 81.7-28.8 23.1-61 41-95.7 53.4-35.6 12.7-72.9 19.1-110.9 19.1-82.6 0-161.7-30.6-222.8-86.2l-34.1-35.8c-23.9-29.3-42.4-62.2-55.1-97.7-12.4-34.7-18.8-71-19.2-107.9-.4-36.9 5.4-73.3 17.1-108.2 12-35.8 30-69.2 53.4-99.1 31.7-40.4 71.1-72 117.2-94.1 44.5-21.3 94-32.6 143.4-32.6 49.3 0 97 10.8 141.8 32 34.3 16.3 65.3 38.1 92 64.8 26.1 26 47.5 56 63.6 89.2 16.2 33.2 26.6 68.5 31 105.1 4.6 37.5 2.7 75.3-5.6 112.3z" fill="currentColor"></path></svg></button><button type="button" class="wl-action" title="GIF"><svg width="24" height="24" fill="currentcolor" viewBox="0 0 24 24"><path style="transform: translateY(0.5px)" d="M18.968 10.5H15.968V11.484H17.984V12.984H15.968V15H14.468V9H18.968V10.5V10.5ZM8.984 9C9.26533 9 9.49967 9.09367 9.687 9.281C9.87433 9.46833 9.968 9.70267 9.968 9.984V10.5H6.499V13.5H8.468V12H9.968V14.016C9.968 14.2973 9.87433 14.5317 9.687 14.719C9.49967 14.9063 9.26533 15 8.984 15H5.984C5.70267 15 5.46833 14.9063 5.281 14.719C5.09367 14.5317 5 14.2973 5 14.016V9.985C5 9.70367 5.09367 9.46933 5.281 9.282C5.46833 9.09467 5.70267 9.001 5.984 9.001H8.984V9ZM11.468 9H12.968V15H11.468V9V9Z"></path><path d="M18.5 3H5.75C3.6875 3 2 4.6875 2 6.75V18C2 20.0625 3.6875 21.75 5.75 21.75H18.5C20.5625 21.75 22.25 20.0625 22.25 18V6.75C22.25 4.6875 20.5625 3 18.5 3ZM20.75 18C20.75 19.2375 19.7375 20.25 18.5 20.25H5.75C4.5125 20.25 3.5 19.2375 3.5 18V6.75C3.5 5.5125 4.5125 4.5 5.75 4.5H18.5C19.7375 4.5 20.75 5.5125 20.75 6.75V18Z"></path></svg></button><input id="wl-image-upload" class="upload" type="file" accept=".png,.jpg,.jpeg,.webp,.bmp,.gif"><label for="wl-image-upload" class="wl-action" title="Upload Image"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M784 112H240c-88 0-160 72-160 160v480c0 88 72 160 160 160h544c88 0 160-72 160-160V272c0-88-72-160-160-160zm96 640c0 52.8-43.2 96-96 96H240c-52.8 0-96-43.2-96-96V272c0-52.8 43.2-96 96-96h544c52.8 0 96 43.2 96 96v480z" fill="currentColor"></path><path d="M352 480c52.8 0 96-43.2 96-96s-43.2-96-96-96-96 43.2-96 96 43.2 96 96 96zm0-128c17.6 0 32 14.4 32 32s-14.4 32-32 32-32-14.4-32-32 14.4-32 32-32zm462.4 379.2-3.2-3.2-177.6-177.6c-25.6-25.6-65.6-25.6-91.2 0l-80 80-36.8-36.8c-25.6-25.6-65.6-25.6-91.2 0L200 728c-4.8 6.4-8 14.4-8 24 0 17.6 14.4 32 32 32 9.6 0 16-3.2 22.4-9.6L380.8 640l134.4 134.4c6.4 6.4 14.4 9.6 24 9.6 17.6 0 32-14.4 32-32 0-9.6-4.8-17.6-9.6-24l-52.8-52.8 80-80L769.6 776c6.4 4.8 12.8 8 20.8 8 17.6 0 32-14.4 32-32 0-8-3.2-16-8-20.8z" fill="currentColor"></path></svg></label><button type="button" class="wl-action" title="Preview"><svg viewBox="0 0 1024 1024" width="24" height="24"><path d="M710.816 654.301c70.323-96.639 61.084-230.578-23.705-314.843-46.098-46.098-107.183-71.109-172.28-71.109-65.008 0-126.092 25.444-172.28 71.109-45.227 46.098-70.756 107.183-70.756 172.106 0 64.923 25.444 126.007 71.194 172.106 46.099 46.098 107.184 71.109 172.28 71.109 51.414 0 100.648-16.212 142.824-47.404l126.53 126.006c7.058 7.06 16.297 10.979 26.406 10.979 10.105 0 19.343-3.919 26.402-10.979 14.467-14.467 14.467-38.172 0-52.723L710.816 654.301zm-315.107-23.265c-65.88-65.88-65.88-172.54 0-238.42 32.069-32.07 74.245-49.149 119.471-49.149 45.227 0 87.407 17.603 119.472 49.149 65.88 65.879 65.88 172.539 0 238.42-63.612 63.178-175.242 63.178-238.943 0zm0 0" fill="currentColor"></path><path d="M703.319 121.603H321.03c-109.8 0-199.469 89.146-199.469 199.38v382.034c0 109.796 89.236 199.38 199.469 199.38h207.397c20.653 0 37.384-16.645 37.384-37.299 0-20.649-16.731-37.296-37.384-37.296H321.03c-68.582 0-124.352-55.77-124.352-124.267V321.421c0-68.496 55.77-124.267 124.352-124.267h382.289c68.582 0 124.352 55.771 124.352 124.267V524.72c0 20.654 16.736 37.299 37.385 37.299 20.654 0 37.384-16.645 37.384-37.299V320.549c-.085-109.8-89.321-198.946-199.121-198.946zm0 0" fill="currentColor"></path></svg></button></div><div class="wl-info"><div class="wl-text-number">0 <!--v-if--> Â Words</div><button type="button" class="wl-btn">Login</button><button type="submit" class="primary wl-btn" title="Cmd|Ctrl + Enter"><!--[-->Submit<!--]--></button></div><div class="wl-gif-popup"><input type="text" placeholder="Search GIF"><div class="wl-gallery" style="gap:6px;"><!--[--><!--]--></div><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div></div><div class="wl-emoji-popup"><!--[--><!--]--><!--v-if--></div></div></div><!--v-if--></div><div class="wl-meta-head"><div class="wl-count"><!--v-if--> Comments</div><ul class="wl-sort"><!--[--><li class="active">Latest</li><li class="">Oldest</li><li class="">Hottest</li><!--]--></ul></div><div class="wl-cards"><!--[--><!--]--></div><!--[--><div class="wl-loading"><svg width="30" height="30" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid"><circle cx="50" cy="50" fill="none" stroke="currentColor" strokeWidth="4" r="40" stroke-dasharray="85 30"><animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform></circle></svg></div><!--]--><div class="wl-power"> Powered by <a href="https://github.com/walinejs/waline" target="_blank" rel="noopener noreferrer"> Waline </a> v2.14.4</div></div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Copyright Â© 2022 å°è”¡coding</div><div class="copyright">Copyright Â© 2022 xiaocai</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-18c23253.js" defer></script>
  </body>
</html>
